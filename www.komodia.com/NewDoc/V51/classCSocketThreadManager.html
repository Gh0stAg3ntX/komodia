<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN""http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<META name="Komodia is a company/firm specializes in
network/LSP (Layered Service Provider) projects. Download free source code samples before contracting us to see our skills">
<META name="keywords" content="socket,programming,tcp,ip,udp,icmp,LSP,DNS,SSL,sniffer">
<title>Open source winsock TCP/IP library V5.1: CSocketThreadManager Class Reference</title>
</head>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-6898822-1");
pageTracker._trackPageview();
} catch(err) {}</script>
<body>
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="stylesheet" href="layout.css" type="text/css">
<link rel="shortcut icon" href="http://www.komodia.com/NewDoc/V51/fevicon.png" type="image/x-icon">
<script type="text/javascript" src="menu.js" ></script>
<div class="ban_bg">
<div class="banner width">  
</div>
</div>
<div class="menu width">

<ul class="ul">
<li><a href="../../index.php.html" rel="nofollow"><div class="m">HOME</div></a></li>
<li><a href="../../index.php@page=products.html" rel="nofollow"><div class="m">PRODUCTS</div></a></li>
<li><a href="../../index.php@page=newtools.html" rel="nofollow"><div class="m">DOWNLOADS</div></a></li>
<li><a href="../../index.php@page=lsp.html" rel="nofollow"><div class="m">LSP GUIDE</div></a></li>
<li><a href="../../index.php@page=newcontact.html" rel="nofollow"><div class="m">CONTACT</div></a></li>
<li><a href="../../index.php@page=about.html" rel="nofollow"><div class="m">ABOUT</div></a></li>
</ul>

</div>
<p><br><br></p>

<hr />
<div class="tools_content"><h2>Retail products</h2>
<hr />
   
    <div class="boxes width h">
	<div class="box_left" id="clearfix" >
    <div class="head_txt">Traffic interception SDK <p></p>
    <span>Control every TCP/IP network connection</span><p></p>
    <ul>    
    <li class="txt" >Route connections via proxy</li><p></p>
    <li class="txt" >Redirect connections and modify the data</li><p></p>
    <li class="txt" >Block connections and applications</li>
    </ul>
    <div class="learn"><a href="../../index.php@page=redirector.html" rel="nofollow">Learn More</a></div>
    </div>


    	<!--<div class="bl_top" ></div>
        <div class="bl_midle" ></div>
        <div class="bl_bottom"></div>-->
    </div>
  <div class="seperate" id="clearfix"></div>
    <div class="box_right" id="clearfix">
    
    <div class="head_txt">SSL interception SDK<p></p>
    <span>View SSL in plaintext and modify it</span><p></p>
    <ul>    
    <li class="txt" >View the SSL stream decrypted in plaintext</li><p></p>
    <li class="txt" >Redirect SSL connection and modify decrypted data</li><p></p>
    <li class="txt" >Browser shows "SSL lock" without warnings</li>
    </ul>
    <div class="learn"><a href="../../index.php@page=ssl.html" rel="nofollow">Learn More</a></div>
    	<!--<div class="br_top" ></div>
        <div class="br_midle" ></div>
        <div class="br_bottom"></div>-->
  </div>
</div></div>
   

<hr />
<div class="tools_content"><h2>Documentation</h2>
<hr />
</div>
</div>
<link rel="stylesheet" href="doxygen.css" type="text/css">
<table>
<td align=left>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>CSocketThreadManager Class Reference</h1><!-- doxytag: class="CSocketThreadManager" --><!-- doxytag: inherits="CErrorHandler" --><code>#include &lt;<a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8h-source.html">SocketThreadManager.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for CSocketThreadManager:</div>
<div class="dynsection">
<p><center><img src="classCSocketThreadManager__inherit__graph.png" border="0" usemap="#CSocketThreadManager__inherit__map" alt="Inheritance graph"></center>
<map name="CSocketThreadManager__inherit__map">
<area shape="rect" href="classCSocketThreadManagerImp.html" title="CSocketThreadManagerImp" alt="" coords="5,155,187,181"><area shape="rect" href="classCErrorHandler.html" title="CErrorHandler" alt="" coords="45,5,147,32"></map>
<center><font size="2">[<a href="http://www.komodia.com/NewDoc/V51/graph_legend.html">legend</a>]</font></center></div>
<div class="dynheader">
Collaboration diagram for CSocketThreadManager:</div>
<div class="dynsection">
<p><center><img src="classCSocketThreadManager__coll__graph.png" border="0" usemap="#CSocketThreadManager__coll__map" alt="Collaboration graph"></center>
<map name="CSocketThreadManager__coll__map">
<area shape="rect" href="structCSocketThreadManager_1_1__ThreadData.html" title="CSocketThreadManager::CSocketThreadManager::_ThreadData" alt="" coords="1596,432,1983,459"><area shape="rect" href="classCErrorHandler.html" title="CErrorHandler" alt="" coords="689,367,791,393"><area shape="rect" href="classCGenericThread.html" title="CGenericThread" alt="" coords="1181,535,1296,561"><area shape="rect" href="classCErrorHandler_1_1CErrorLog.html" title="CErrorHandler::CErrorHandler::CErrorLog" alt="" coords="180,367,436,393"><area shape="rect" href="classCWaitableObject.html" title="CWaitableObject" alt="" coords="248,757,368,784"><area shape="rect" href="structCSocketThreadManager_1_1__ThreadDataExtend.html" title="CSocketThreadManager::CSocketThreadManager::_ThreadDataExtend" alt="" coords="1024,625,1453,652"><area shape="rect" href="classCGenericCriticalSection.html" title="CGenericCriticalSection" alt="" coords="660,417,820,444"><area shape="rect" href="classCGenericEvent.html" title="CGenericEvent" alt="" coords="889,799,996,825"></map>
<center><font size="2">[<a href="http://www.komodia.com/NewDoc/V51/graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="http://www.komodia.com/NewDoc/V51/classCSocketThreadManager-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCSocketThreadManager_1_1__ThreadData.html">_ThreadData</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCSocketThreadManager_1_1__ThreadDataExtend.html">_ThreadDataExtend</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCSocketThreadManager_1_1__TimeoutData.html">_TimeoutData</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCSocketThreadManager_1_1__TimerID.html">_TimerID</a></td></tr>

<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="classCSocketThreadManager.html#0196aac6e839432c52f911be5866c667">TimeoutProc</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#cb39cd12d49572dc76ce74b0a90e746a">LPTimeoutProc</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <br class="typebreak">
<a class="el" href="structCSocketThreadManager_1_1__TimerID.html">CSocketThreadManager::_TimerID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#5a74758ebb74a64b511bc3fe8822670f">TimerID</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(*&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#0196aac6e839432c52f911be5866c667">TimeoutProc</a> )(<a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#b064840df4ab5a8cf90ddb963f94de34">LPVOID</a> pParam)</td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#5688ef00fa72183deb7573657a391f4f">SetCleanTimeout</a> (<a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a> dwTimeout)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#dbad1bf1baceb917e1b88305c0d4dee1">IsInitialized</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#e5d6ce1dfeb391bff12076340e994b7d">GetNumberOfThreads</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const std::string &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#f24609df3accc6c7803a8804f194fbb6">GetClassName</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#76b0fb5a17e096e1aa92ac48ec81b870">ReSetTimeout</a> (const <a class="el" href="structCSocketThreadManager_1_1__TimerID.html">TimerID</a> &amp;rTimerID)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#49722857da6bcec30ef94d97fecfefc3">RemoveTimeout</a> (<a class="el" href="structCSocketThreadManager_1_1__TimerID.html">TimerID</a> &amp;aTimerID, <a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> bInvokeDeleteProc=FALSE)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structCSocketThreadManager_1_1__TimerID.html">TimerID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#e2a6728b26378a0dd98bd5a8258dc5eb">RegisterTimeout</a> (int iMS, <a class="el" href="classCSocketThreadManager.html#cb39cd12d49572dc76ce74b0a90e746a">LPTimeoutProc</a> pProc, <a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#b064840df4ab5a8cf90ddb963f94de34">LPVOID</a> pData, <a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> bClearTimeout=FALSE, HWND hHandle=NULL, <a class="el" href="structCSocketThreadManager_1_1__TimerID.html">TimerID</a> *pTimer=NULL, <a class="el" href="classCSocketThreadManager.html#cb39cd12d49572dc76ce74b0a90e746a">LPTimeoutProc</a> pDeleteProc=NULL)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#2577f0eecd97ff1e3ae2d9504c3492a7">DecreaseSocketCount</a> (HWND hWindowHandle, <a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> bFreeze=FALSE)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#f709ab49028fa565e3455257ae8d21a5">DecreaseTimeoutCount</a> (HWND hWindowHandle, <a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> bFreeze=FALSE)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">HWND&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#cdcda0b3cf99e5b4eb75bc4e9cd0cea2">GetWindowHandle</a> (<a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> bTimeout=FALSE)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classCGenericThread.html">CGenericThread</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#2e95df56a8702eb5155afdfb9a7f4827">GetThreadByHWND</a> (HWND hWindowHandle) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#4b9bc8d8bb96858b8c0b3d727d91071e">Initialize</a> (unsigned long ulThreadCount, <a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#dbea528b1294c9a1dfda3dfa33ff1472">LPCSTR</a> lpClassName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#c0fc5392f73092d44cf2f1ed6b3bcbc3">Uninitialize</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#da0bffc4f953aec92816b90728c3bee2">CSocketThreadManager</a> (HINSTANCE hInstance)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#06c8f0996ca45b0a023e07268b414aca">~CSocketThreadManager</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#c32f57ac983a6b4a80d5560ec63905e9">SetLocalLog</a> (<a class="el" href="classCErrorHandler_1_1CErrorLog.html">CErrorLog</a> *pLog, bool bWriteToMain=false)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#083cbdc66a1c603b10ea7ee48dcda9d1">WriteError</a> (const std::string &amp;rClass, const std::string &amp;rMethod, const std::string &amp;rError) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#91f1ca7631f0aeb6bba90e9b4ed381ea">WriteMessage</a> (const std::string &amp;rClass, const std::string &amp;rMethod, const std::string &amp;rMessage) const </td></tr>

<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classCErrorHandler.html">CErrorHandler</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#2988643d7e67a08457ad536a3c47a7c6">GetSecondaryLog</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classCErrorHandler.html">CErrorHandler</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#706c58765a3bb835fbd780ab6e26c8fa">GetThirdLog</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#73fa1ede5a6b117ded5bdb01f6f74d67">ClearStaticLogs</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#f0b7d90a2b1b22e745ac6205ddd9c6dd">GetCurrentDateTime</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#0b65597ee3c5e716dd96cf8f793aaaec">ErrorCodeToString</a> (<a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a> dwErrorCode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#dab679d913d16e130eb5500e476d0dd9">RegisterError</a> (<a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a> dwErrorCode, const std::string &amp;rDescription)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#4b7ea48ef8dfffa2153b0d499693084e">SetLog</a> (<a class="el" href="classCErrorHandler_1_1CErrorLog.html">CErrorLog</a> *pLog)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#a0668543d695d4dae530a10e481849d9">WriteStaticError</a> (const std::string &amp;rClass, const std::string &amp;rMethod, const std::string &amp;rError)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#44f3a731ec98f4c3aaf001a248a4b4f3">WriteStaticMessage</a> (const std::string &amp;rClass, const std::string &amp;rMethod, const std::string &amp;rMessage)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#05f7ed38a1a8994e169fd4f8ac3755f7">FormatData</a> (const std::string &amp;rClass, const std::string &amp;rMethod, const std::string &amp;rMsgOrError, bool bError=true)</td></tr>

<tr><td colspan="2"><br><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <br class="typebreak">
<a class="el" href="structCSocketThreadManager_1_1__ThreadDataExtend.html">CSocketThreadManager::_ThreadDataExtend</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#50219200ae20c7f8e84af03ab48d5414">ThreadDataExtend</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <br class="typebreak">
<a class="el" href="structCSocketThreadManager_1_1__TimeoutData.html">CSocketThreadManager::_TimeoutData</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#268227bf10daae0e45d25c6fc5204ef2">TimeoutData</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef std::map&lt; unsigned int, <br class="typebreak">
<a class="el" href="structCSocketThreadManager_1_1__TimeoutData.html">TimeoutData</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#b13895e6b3d221e458f1997b361c8008">TOMap</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <br class="typebreak">
<a class="el" href="structCSocketThreadManager_1_1__ThreadData.html">CSocketThreadManager::_ThreadData</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#9bc943fdc8a93839f5769d10bb06e9ab">ThreadData</a></td></tr>

<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#e7343052a9c2e940d6536dc00f87a418">ParseDispatchMessage</a> (const MSG &amp;rMsg, <a class="el" href="structCSocketThreadManager_1_1__ThreadData.html">ThreadData</a> *pData)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#7843f00023358c247ab49324a07ae3f8">CreateExtendedData</a> (<a class="el" href="structCSocketThreadManager_1_1__ThreadDataExtend.html">ThreadDataExtend</a> &amp;rData)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#10fc91ad918ce2212cc867c9fa949bde">DeleteExtendedData</a> (<a class="el" href="structCSocketThreadManager_1_1__ThreadDataExtend.html">ThreadDataExtend</a> &amp;rData)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structCSocketThreadManager_1_1__ThreadData.html">ThreadData</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCSocketThreadManager.html#9509a982eed1878535676c935009d8bc">GetDataByHWND</a> (HWND hHandle) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#47a810882291e2ef45a74b36a11f3009">WriteMessage</a> (const std::string &amp;rMethod, const std::string &amp;rMessage) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#4532ad1728ec871fdb6932d3936f78cb">ReportError</a> (const std::string &amp;rMethod) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#e2e270981bfe2853705dbac3e6d1a179">ReportError</a> (const std::string &amp;rMethod, const std::string &amp;rMessage) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#f5d72abf3e1cd480d865b778c5612dab">ReportError</a> (const std::string &amp;rMethod, const std::string &amp;rMessage, <a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a> dwAdditionalData) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#27fa657a1efaf41d073d1075e1d68ead">ReportError</a> (const std::string &amp;rMethod, const std::string &amp;rMessage, const std::string &amp;rAdditionalData) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#aceaa619f74e4581e32fc715ca1b49a6">ReportError</a> (const std::string &amp;rMethod, int iErrorCode) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#5d8781f6e75fda4216de742412638bbe">ReportError</a> (const std::string &amp;rMethod, const std::string &amp;rMessage, int iErrorCode) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#5b28bd4603cfcaefe8e0378f21173f20">ReportErrorOS</a> (const std::string &amp;rMethod, const std::string &amp;rMessage) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#154d228acd338d59a1ae317197eb1620">SetName</a> (const std::string &amp;rName) const </td></tr>

<tr><td colspan="2"><br><h2>Static Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#691be627f8818507498b10f5641c6ba2">ReportStaticError</a> (const std::string &amp;rClass, const std::string &amp;rMethod)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#ea82def72894ff6bdede8625d02a831e">ReportStaticError</a> (const std::string &amp;rClass, const std::string &amp;rMethod, const std::string &amp;rMessage)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#3b0a4e8459ee63a5e1b64ddb816b23d5">ReportStaticError</a> (const std::string &amp;rClass, const std::string &amp;rMethod, const std::string &amp;rMessage, <a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a> dwAdditionalData)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCErrorHandler.html#20d938d87aca3b6fbf08a98538f59cc6">ReportStaticErrorOS</a> (const std::string &amp;rClass, const std::string &amp;rMethod, const std::string &amp;rMessage)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8h-source.html#l00061">61</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8h-source.html">SocketThreadManager.h</a>.</p>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="cb39cd12d49572dc76ce74b0a90e746a"></a><!-- doxytag: member="CSocketThreadManager::LPTimeoutProc" ref="cb39cd12d49572dc76ce74b0a90e746a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classCSocketThreadManager.html#0196aac6e839432c52f911be5866c667">TimeoutProc</a> <a class="el" href="classCSocketThreadManager.html#cb39cd12d49572dc76ce74b0a90e746a">CSocketThreadManager::LPTimeoutProc</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8h-source.html#l00066">66</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8h-source.html">SocketThreadManager.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="9bc943fdc8a93839f5769d10bb06e9ab"></a><!-- doxytag: member="CSocketThreadManager::ThreadData" ref="9bc943fdc8a93839f5769d10bb06e9ab" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structCSocketThreadManager_1_1__ThreadData.html">CSocketThreadManager::_ThreadData</a>  <a class="el" href="structCSocketThreadManager_1_1__ThreadData.html">CSocketThreadManager::ThreadData</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="50219200ae20c7f8e84af03ab48d5414"></a><!-- doxytag: member="CSocketThreadManager::ThreadDataExtend" ref="50219200ae20c7f8e84af03ab48d5414" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structCSocketThreadManager_1_1__ThreadDataExtend.html">CSocketThreadManager::_ThreadDataExtend</a>  <a class="el" href="structCSocketThreadManager_1_1__ThreadDataExtend.html">CSocketThreadManager::ThreadDataExtend</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="268227bf10daae0e45d25c6fc5204ef2"></a><!-- doxytag: member="CSocketThreadManager::TimeoutData" ref="268227bf10daae0e45d25c6fc5204ef2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structCSocketThreadManager_1_1__TimeoutData.html">CSocketThreadManager::_TimeoutData</a>  <a class="el" href="structCSocketThreadManager_1_1__TimeoutData.html">CSocketThreadManager::TimeoutData</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="0196aac6e839432c52f911be5866c667"></a><!-- doxytag: member="CSocketThreadManager::TimeoutProc" ref="0196aac6e839432c52f911be5866c667" args=")(LPVOID pParam)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* <a class="el" href="classCSocketThreadManager.html#0196aac6e839432c52f911be5866c667">CSocketThreadManager::TimeoutProc</a>)(<a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#b064840df4ab5a8cf90ddb963f94de34">LPVOID</a> pParam)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5a74758ebb74a64b511bc3fe8822670f"></a><!-- doxytag: member="CSocketThreadManager::TimerID" ref="5a74758ebb74a64b511bc3fe8822670f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structCSocketThreadManager_1_1__TimerID.html">CSocketThreadManager::_TimerID</a>  <a class="el" href="structCSocketThreadManager_1_1__TimerID.html">CSocketThreadManager::TimerID</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="b13895e6b3d221e458f1997b361c8008"></a><!-- doxytag: member="CSocketThreadManager::TOMap" ref="b13895e6b3d221e458f1997b361c8008" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;unsigned int,<a class="el" href="structCSocketThreadManager_1_1__TimeoutData.html">TimeoutData</a>&gt; <a class="el" href="classCSocketThreadManager.html#b13895e6b3d221e458f1997b361c8008">CSocketThreadManager::TOMap</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8h-source.html#l00168">168</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8h-source.html">SocketThreadManager.h</a>.</p>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="da0bffc4f953aec92816b90728c3bee2"></a><!-- doxytag: member="CSocketThreadManager::CSocketThreadManager" ref="da0bffc4f953aec92816b90728c3bee2" args="(HINSTANCE hInstance)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSocketThreadManager::CSocketThreadManager           </td>
          <td>(</td>
          <td class="paramtype">HINSTANCE&nbsp;</td>
          <td class="paramname"> <em>hInstance</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l00068">68</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00068"></a>00068                                                               : <a class="code" href="classCErrorHandler.html#a168acac67084b974b4ede7cf9c3c7a7">CErrorHandler</a>(),
<a name="l00069"></a>00069                                                                   m_ulThreadCount(0),
<a name="l00070"></a>00070                                                                   m_hInstance(hInstance),
<a name="l00071"></a>00071                                                                   m_pThreadData(<a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),
<a name="l00072"></a>00072                                                                   m_pCSection(<a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>),
<a name="l00073"></a>00073                                                                   m_bStaticClass(<a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#a93f0eb578d23995850d61f7d61c55c1">FALSE</a>),
<a name="l00074"></a>00074                                                                   m_bInitialized(<a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#a93f0eb578d23995850d61f7d61c55c1">FALSE</a>),
<a name="l00075"></a>00075                                                                   m_dwCleanTimeout(<a class="code" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp.html#0b15033c98544c32f9a20c9daa4ec6ba">THREADS_TIMEOUT</a>)
<a name="l00076"></a>00076 {
<a name="l00077"></a>00077     <span class="keywordflow">try</span>
<a name="l00078"></a>00078     {
<a name="l00079"></a>00079         <span class="comment">//Set the class name</span>
<a name="l00080"></a>00080         <a class="code" href="classCErrorHandler.html#154d228acd338d59a1ae317197eb1620">SetName</a>(<a class="code" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp.html#67358106f4918d42997696ce34fd2df3">CSocketThreadManager_Class</a>);
<a name="l00081"></a>00081 
<a name="l00082"></a>00082         <span class="comment">//Create the critical section</span>
<a name="l00083"></a>00083         m_pCSection=<a class="code" href="classCOSManager.html#b10d700428ba32291158bd62b707f547">COSManager::CreateCriticalSection</a>();
<a name="l00084"></a>00084     }
<a name="l00085"></a>00085     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#b139956ce02f2904d7ace9676dab109c">ERROR_HANDLER</a>(<span class="stringliteral">"CSocketThreadManager"</span>)
<a name="l00086"></a>00086 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="06c8f0996ca45b0a023e07268b414aca"></a><!-- doxytag: member="CSocketThreadManager::~CSocketThreadManager" ref="06c8f0996ca45b0a023e07268b414aca" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSocketThreadManager::~CSocketThreadManager           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l00099">99</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00100"></a>00100 {
<a name="l00101"></a>00101     <span class="keywordflow">try</span>
<a name="l00102"></a>00102     {
<a name="l00103"></a>00103         <span class="comment">//Are we initialized</span>
<a name="l00104"></a>00104         <span class="keywordflow">if</span> (m_bInitialized)
<a name="l00105"></a>00105             <a class="code" href="classCSocketThreadManager.html#c0fc5392f73092d44cf2f1ed6b3bcbc3">Uninitialize</a>();
<a name="l00106"></a>00106 
<a name="l00107"></a>00107         <span class="comment">//Delete the CS</span>
<a name="l00108"></a>00108         <span class="keyword">delete</span> m_pCSection;
<a name="l00109"></a>00109     }
<a name="l00110"></a>00110     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#b139956ce02f2904d7ace9676dab109c">ERROR_HANDLER</a>(<span class="stringliteral">"~CSocketThreadManager"</span>)
<a name="l00111"></a>00111 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="73fa1ede5a6b117ded5bdb01f6f74d67"></a><!-- doxytag: member="CSocketThreadManager::ClearStaticLogs" ref="73fa1ede5a6b117ded5bdb01f6f74d67" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::ClearStaticLogs           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00680">680</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00681"></a>00681 {
<a name="l00682"></a>00682     <span class="comment">//Delete the logs</span>
<a name="l00683"></a>00683     <span class="keyword">delete</span> m_pSecondLevelLog;
<a name="l00684"></a>00684     m_pSecondLevelLog=<a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00685"></a>00685 
<a name="l00686"></a>00686     <span class="keyword">delete</span> m_pThirdLevelLog;
<a name="l00687"></a>00687     m_pThirdLevelLog=<a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00688"></a>00688 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="7843f00023358c247ab49324a07ae3f8"></a><!-- doxytag: member="CSocketThreadManager::CreateExtendedData" ref="7843f00023358c247ab49324a07ae3f8" args="(ThreadDataExtend &amp;rData)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CSocketThreadManager::CreateExtendedData           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCSocketThreadManager_1_1__ThreadDataExtend.html">ThreadDataExtend</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>rData</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Reimplemented in <a class="el" href="classCSocketThreadManagerImp.html#9e896b988b6c0f53cd4b2c51c1a0c6b4">CSocketThreadManagerImp</a>.</p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l01018">1018</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01019"></a>01019 {
<a name="l01020"></a>01020 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="2577f0eecd97ff1e3ae2d9504c3492a7"></a><!-- doxytag: member="CSocketThreadManager::DecreaseSocketCount" ref="2577f0eecd97ff1e3ae2d9504c3492a7" args="(HWND hWindowHandle, BOOL bFreeze=FALSE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CSocketThreadManager::DecreaseSocketCount           </td>
          <td>(</td>
          <td class="paramtype">HWND&nbsp;</td>
          <td class="paramname"> <em>hWindowHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>&nbsp;</td>
          <td class="paramname"> <em>bFreeze</em> = <code>FALSE</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l00550">550</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00552"></a>00552 {
<a name="l00553"></a>00553     <span class="keywordflow">try</span>
<a name="l00554"></a>00554     {
<a name="l00555"></a>00555         <span class="comment">//First find the window handle</span>
<a name="l00556"></a>00556         <span class="keywordtype">int</span> iIndex;
<a name="l00557"></a>00557         iIndex=GetIndexByHWND(hWindowHandle);
<a name="l00558"></a>00558 
<a name="l00559"></a>00559         <span class="comment">//Check it's valid</span>
<a name="l00560"></a>00560         <span class="keywordflow">if</span> (!iIndex)
<a name="l00561"></a>00561             <span class="keywordflow">return</span>;
<a name="l00562"></a>00562 
<a name="l00563"></a>00563         <span class="comment">//Enter the critical section</span>
<a name="l00564"></a>00564         <a class="code" href="classCCriticalAutoRelease.html">CCriticalAutoRelease</a> aRelease(m_pCSection);
<a name="l00565"></a>00565 
<a name="l00566"></a>00566         <span class="comment">//Decrement the socket count</span>
<a name="l00567"></a>00567         <span class="keywordflow">if</span> (m_pThreadData[iIndex-1].iSocketCount&gt;0)
<a name="l00568"></a>00568         {
<a name="l00569"></a>00569             --m_pThreadData[iIndex-1].<a class="code" href="structCSocketThreadManager_1_1__ThreadData.html#4462c82718bfd8991e078cad6c87ad3e">iSocketCount</a>;
<a name="l00570"></a>00570             m_pThreadData[iIndex-1].<a class="code" href="structCSocketThreadManager_1_1__ThreadData.html#2706248d3603fa9c54fe9f46528f19c4">bFreeze</a>=bFreeze;
<a name="l00571"></a>00571         }
<a name="l00572"></a>00572     }
<a name="l00573"></a>00573     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#b139956ce02f2904d7ace9676dab109c">ERROR_HANDLER</a>(<span class="stringliteral">"DecreaseSocketCount"</span>)
<a name="l00574"></a>00574 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f709ab49028fa565e3455257ae8d21a5"></a><!-- doxytag: member="CSocketThreadManager::DecreaseTimeoutCount" ref="f709ab49028fa565e3455257ae8d21a5" args="(HWND hWindowHandle, BOOL bFreeze=FALSE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CSocketThreadManager::DecreaseTimeoutCount           </td>
          <td>(</td>
          <td class="paramtype">HWND&nbsp;</td>
          <td class="paramname"> <em>hWindowHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>&nbsp;</td>
          <td class="paramname"> <em>bFreeze</em> = <code>FALSE</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l00576">576</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00578"></a>00578 {
<a name="l00579"></a>00579     <span class="keywordflow">try</span>
<a name="l00580"></a>00580     {
<a name="l00581"></a>00581         <span class="comment">//First find the window handle</span>
<a name="l00582"></a>00582         <span class="keywordtype">int</span> iIndex;
<a name="l00583"></a>00583         iIndex=GetIndexByHWND(hWindowHandle);
<a name="l00584"></a>00584 
<a name="l00585"></a>00585         <span class="comment">//Check it's valid</span>
<a name="l00586"></a>00586         <span class="keywordflow">if</span> (!iIndex)
<a name="l00587"></a>00587             <span class="keywordflow">return</span>;
<a name="l00588"></a>00588 
<a name="l00589"></a>00589         <span class="comment">//Enter the critical section</span>
<a name="l00590"></a>00590         <a class="code" href="classCCriticalAutoRelease.html">CCriticalAutoRelease</a> aRelease(m_pCSection);
<a name="l00591"></a>00591 
<a name="l00592"></a>00592         <span class="comment">//Decrement the socket count</span>
<a name="l00593"></a>00593         <span class="keywordflow">if</span> (m_pThreadData[iIndex-1].iTimeoutCount&gt;0)
<a name="l00594"></a>00594         {
<a name="l00595"></a>00595             --m_pThreadData[iIndex-1].<a class="code" href="structCSocketThreadManager_1_1__ThreadData.html#d0835a9a59959e617b60fd0bf8bbc6e6">iTimeoutCount</a>;
<a name="l00596"></a>00596             m_pThreadData[iIndex-1].<a class="code" href="structCSocketThreadManager_1_1__ThreadData.html#2706248d3603fa9c54fe9f46528f19c4">bFreeze</a>=bFreeze;
<a name="l00597"></a>00597         }
<a name="l00598"></a>00598     }
<a name="l00599"></a>00599     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#b139956ce02f2904d7ace9676dab109c">ERROR_HANDLER</a>(<span class="stringliteral">"DecreaseTimeoutCount"</span>)
<a name="l00600"></a>00600 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="10fc91ad918ce2212cc867c9fa949bde"></a><!-- doxytag: member="CSocketThreadManager::DeleteExtendedData" ref="10fc91ad918ce2212cc867c9fa949bde" args="(ThreadDataExtend &amp;rData)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CSocketThreadManager::DeleteExtendedData           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCSocketThreadManager_1_1__ThreadDataExtend.html">ThreadDataExtend</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>rData</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Reimplemented in <a class="el" href="classCSocketThreadManagerImp.html#cbf8717ab19c7c6c12f5b0b47a3cd096">CSocketThreadManagerImp</a>.</p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l01022">1022</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01023"></a>01023 {
<a name="l01024"></a>01024 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="0b65597ee3c5e716dd96cf8f793aaaec"></a><!-- doxytag: member="CSocketThreadManager::ErrorCodeToString" ref="0b65597ee3c5e716dd96cf8f793aaaec" args="(DWORD dwErrorCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string CErrorHandler::ErrorCodeToString           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>dwErrorCode</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00251">251</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00252"></a>00252 {
<a name="l00253"></a>00253     <span class="keywordflow">try</span>
<a name="l00254"></a>00254     {
<a name="l00255"></a>00255         <span class="comment">//Try to look it in the errors</span>
<a name="l00256"></a>00256         <span class="keywordflow">if</span> (!CErrorsRepository::GetInstance().GetErrorsMap().empty())
<a name="l00257"></a>00257         {
<a name="l00258"></a>00258             <span class="comment">//Search</span>
<a name="l00259"></a>00259             CErrorsRepository::ErrorMap::const_iterator aIterator;
<a name="l00260"></a>00260             aIterator=CErrorsRepository::GetInstance().GetErrorsMap().find(dwErrorCode);
<a name="l00261"></a>00261 
<a name="l00262"></a>00262             <span class="comment">//Do we have it</span>
<a name="l00263"></a>00263             <span class="keywordflow">if</span> (aIterator!=CErrorsRepository::GetInstance().GetErrorsMap().end())
<a name="l00264"></a>00264                 <span class="keywordflow">return</span> aIterator-&gt;second;
<a name="l00265"></a>00265         }
<a name="l00266"></a>00266 
<a name="l00267"></a>00267         <span class="comment">//Get the error string</span>
<a name="l00268"></a>00268         <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#b064840df4ab5a8cf90ddb963f94de34">LPVOID</a> lpMsgBuf;
<a name="l00269"></a>00269         FormatMessage(FORMAT_MESSAGE_ALLOCATE_BUFFER | 
<a name="l00270"></a>00270                       FORMAT_MESSAGE_FROM_SYSTEM | 
<a name="l00271"></a>00271                       FORMAT_MESSAGE_IGNORE_INSERTS,
<a name="l00272"></a>00272                       <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,
<a name="l00273"></a>00273                       dwErrorCode,
<a name="l00274"></a>00274                       MAKELANGID(LANG_NEUTRAL, SUBLANG_DEFAULT), <span class="comment">// Default language</span>
<a name="l00275"></a>00275                       (LPTSTR) &amp;lpMsgBuf,
<a name="l00276"></a>00276                       0,
<a name="l00277"></a>00277                       <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00278"></a>00278 
<a name="l00279"></a>00279         <span class="comment">//Save it</span>
<a name="l00280"></a>00280         std::string sMessage;
<a name="l00281"></a>00281 
<a name="l00282"></a>00282         <span class="comment">//Do we have the message?</span>
<a name="l00283"></a>00283         <span class="keywordflow">if</span> (lpMsgBuf)
<a name="l00284"></a>00284         {
<a name="l00285"></a>00285             <span class="comment">//Save it</span>
<a name="l00286"></a>00286             sMessage=(<span class="keywordtype">char</span>*)lpMsgBuf;
<a name="l00287"></a>00287             
<a name="l00288"></a>00288             <span class="comment">//Release the buffer</span>
<a name="l00289"></a>00289             LocalFree(lpMsgBuf);
<a name="l00290"></a>00290         }
<a name="l00291"></a>00291         <span class="keywordflow">else</span>
<a name="l00292"></a>00292             <span class="comment">//Failed to find</span>
<a name="l00293"></a>00293             sMessage=<span class="stringliteral">"No error description found!"</span>;
<a name="l00294"></a>00294 
<a name="l00295"></a>00295         <span class="comment">//Done</span>
<a name="l00296"></a>00296         <span class="keywordflow">return</span> sMessage;
<a name="l00297"></a>00297     }
<a name="l00298"></a>00298     <span class="keywordflow">catch</span> (...)
<a name="l00299"></a>00299     {
<a name="l00300"></a>00300         <span class="keywordflow">return</span> <span class="stringliteral">"Unknown"</span>;
<a name="l00301"></a>00301     }
<a name="l00302"></a>00302 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="05f7ed38a1a8994e169fd4f8ac3755f7"></a><!-- doxytag: member="CSocketThreadManager::FormatData" ref="05f7ed38a1a8994e169fd4f8ac3755f7" args="(const std::string &amp;rClass, const std::string &amp;rMethod, const std::string &amp;rMsgOrError, bool bError=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string CErrorHandler::FormatData           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rClass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMethod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMsgOrError</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>bError</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00145">145</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00149"></a>00149 {
<a name="l00150"></a>00150     <span class="comment">//Our message</span>
<a name="l00151"></a>00151     std::string sMsg;
<a name="l00152"></a>00152 
<a name="l00153"></a>00153     <span class="comment">//Is it an error?</span>
<a name="l00154"></a>00154     <span class="keywordflow">if</span> (bError)
<a name="l00155"></a>00155         sMsg=<span class="stringliteral">"*** Error *** "</span>;
<a name="l00156"></a>00156     <span class="keywordflow">else</span>
<a name="l00157"></a>00157         sMsg=<span class="stringliteral">"###  Msg  ### "</span>;
<a name="l00158"></a>00158 
<a name="l00159"></a>00159     <span class="comment">//Add the data now</span>
<a name="l00160"></a>00160     sMsg+=<span class="stringliteral">"in "</span>+rClass;
<a name="l00161"></a>00161     sMsg+=<span class="stringliteral">"::"</span>+rMethod;
<a name="l00162"></a>00162     sMsg+=<span class="stringliteral">" - "</span> + rMsgOrError;
<a name="l00163"></a>00163 
<a name="l00164"></a>00164     <span class="comment">//Done</span>
<a name="l00165"></a>00165     <span class="keywordflow">return</span> sMsg;
<a name="l00166"></a>00166 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f24609df3accc6c7803a8804f194fbb6"></a><!-- doxytag: member="CSocketThreadManager::GetClassName" ref="f24609df3accc6c7803a8804f194fbb6" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; CSocketThreadManager::GetClassName           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Reimplemented from <a class="el" href="classCErrorHandler.html#26eb39c300fd44821a1a859932035470">CErrorHandler</a>.</p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l00996">996</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00997"></a>00997 {
<a name="l00998"></a>00998     <span class="keywordflow">return</span> m_sClassName;
<a name="l00999"></a>00999 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f0b7d90a2b1b22e745ac6205ddd9c6dd"></a><!-- doxytag: member="CSocketThreadManager::GetCurrentDateTime" ref="f0b7d90a2b1b22e745ac6205ddd9c6dd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string CErrorHandler::GetCurrentDateTime           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00622">622</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00623"></a>00623 {
<a name="l00624"></a>00624     <span class="keywordflow">try</span>
<a name="l00625"></a>00625     {
<a name="l00626"></a>00626         <span class="comment">//Our string</span>
<a name="l00627"></a>00627         std::string sDate;
<a name="l00628"></a>00628 
<a name="l00629"></a>00629         <span class="comment">//Our tmp buf</span>
<a name="l00630"></a>00630         <span class="keywordtype">char</span> cTmp[128];
<a name="l00631"></a>00631 
<a name="l00632"></a>00632         <span class="comment">//Get date</span>
<a name="l00633"></a>00633         _strdate(cTmp);
<a name="l00634"></a>00634         sDate=cTmp;
<a name="l00635"></a>00635         sDate+=<span class="charliteral">' '</span>;
<a name="l00636"></a>00636 
<a name="l00637"></a>00637         <span class="comment">//Get time</span>
<a name="l00638"></a>00638         _strtime(cTmp);
<a name="l00639"></a>00639         sDate+=cTmp;
<a name="l00640"></a>00640 
<a name="l00641"></a>00641         <span class="comment">//Done</span>
<a name="l00642"></a>00642         <span class="keywordflow">return</span> sDate;
<a name="l00643"></a>00643     }
<a name="l00644"></a>00644     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#e380934ff3e6368d8a4fa6a5d23b0058">ERROR_HANDLER_STATIC_RETURN</a>(<a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp.html#1e5730f63f8fb8572614ba570e014418">CErrorHandler_Class</a>,<span class="stringliteral">"GetCurrentDateTime"</span>,<span class="stringliteral">""</span>)
<a name="l00645"></a>00645 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="9509a982eed1878535676c935009d8bc"></a><!-- doxytag: member="CSocketThreadManager::GetDataByHWND" ref="9509a982eed1878535676c935009d8bc" args="(HWND hHandle) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structCSocketThreadManager_1_1__ThreadData.html">CSocketThreadManager::ThreadData</a> * CSocketThreadManager::GetDataByHWND           </td>
          <td>(</td>
          <td class="paramtype">HWND&nbsp;</td>
          <td class="paramname"> <em>hHandle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l00602">602</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00603"></a>00603 {
<a name="l00604"></a>00604     <span class="keywordflow">try</span>
<a name="l00605"></a>00605     {
<a name="l00606"></a>00606         <span class="comment">//Get the index</span>
<a name="l00607"></a>00607         <span class="keywordtype">int</span> iIndex;
<a name="l00608"></a>00608         iIndex=GetIndexByHWND(hHandle);
<a name="l00609"></a>00609 
<a name="l00610"></a>00610         <span class="comment">//Do we have it?</span>
<a name="l00611"></a>00611         <span class="keywordflow">if</span> (iIndex)
<a name="l00612"></a>00612             <span class="keywordflow">return</span> &amp;m_pThreadData[iIndex-1];
<a name="l00613"></a>00613         <span class="keywordflow">else</span>
<a name="l00614"></a>00614             <span class="keywordflow">return</span> <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00615"></a>00615     }
<a name="l00616"></a>00616     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#de1532de61862588013aae2100d1cbc7">ERROR_HANDLER_RETURN</a>(<span class="stringliteral">"GetDataByHWND"</span>,<a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00617"></a>00617 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e5d6ce1dfeb391bff12076340e994b7d"></a><!-- doxytag: member="CSocketThreadManager::GetNumberOfThreads" ref="e5d6ce1dfeb391bff12076340e994b7d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long CSocketThreadManager::GetNumberOfThreads           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l01006">1006</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01007"></a>01007 {
<a name="l01008"></a>01008     <span class="keywordflow">return</span> m_ulThreadCount;
<a name="l01009"></a>01009 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="2988643d7e67a08457ad536a3c47a7c6"></a><!-- doxytag: member="CSocketThreadManager::GetSecondaryLog" ref="2988643d7e67a08457ad536a3c47a7c6" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCErrorHandler.html">CErrorHandler</a> * CErrorHandler::GetSecondaryLog           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00658">658</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00659"></a>00659 {
<a name="l00660"></a>00660     <span class="comment">//Do we have log</span>
<a name="l00661"></a>00661     <span class="keywordflow">if</span> (!m_pSecondLevelLog)
<a name="l00662"></a>00662         <span class="comment">//Create it</span>
<a name="l00663"></a>00663         m_pSecondLevelLog=<span class="keyword">new</span> <a class="code" href="classCErrorHandler.html">CErrorHandler</a>;
<a name="l00664"></a>00664 
<a name="l00665"></a>00665     <span class="comment">//Return it</span>
<a name="l00666"></a>00666     <span class="keywordflow">return</span> m_pSecondLevelLog;
<a name="l00667"></a>00667 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="706c58765a3bb835fbd780ab6e26c8fa"></a><!-- doxytag: member="CSocketThreadManager::GetThirdLog" ref="706c58765a3bb835fbd780ab6e26c8fa" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCErrorHandler.html">CErrorHandler</a> * CErrorHandler::GetThirdLog           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00669">669</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00670"></a>00670 {
<a name="l00671"></a>00671     <span class="comment">//Do we have log</span>
<a name="l00672"></a>00672     <span class="keywordflow">if</span> (!m_pThirdLevelLog)
<a name="l00673"></a>00673         <span class="comment">//Create it</span>
<a name="l00674"></a>00674         m_pThirdLevelLog=<span class="keyword">new</span> <a class="code" href="classCErrorHandler.html">CErrorHandler</a>;
<a name="l00675"></a>00675 
<a name="l00676"></a>00676     <span class="comment">//Return it</span>
<a name="l00677"></a>00677     <span class="keywordflow">return</span> m_pThirdLevelLog;
<a name="l00678"></a>00678 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="2e95df56a8702eb5155afdfb9a7f4827"></a><!-- doxytag: member="CSocketThreadManager::GetThreadByHWND" ref="2e95df56a8702eb5155afdfb9a7f4827" args="(HWND hWindowHandle) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classCGenericThread.html">CGenericThread</a> * CSocketThreadManager::GetThreadByHWND           </td>
          <td>(</td>
          <td class="paramtype">HWND&nbsp;</td>
          <td class="paramname"> <em>hWindowHandle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l00529">529</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00530"></a>00530 {
<a name="l00531"></a>00531     <span class="keywordflow">try</span>
<a name="l00532"></a>00532     {
<a name="l00533"></a>00533         <span class="comment">//First find the window handle</span>
<a name="l00534"></a>00534         <span class="keywordtype">int</span> iIndex;
<a name="l00535"></a>00535         iIndex=GetIndexByHWND(hWindowHandle);
<a name="l00536"></a>00536 
<a name="l00537"></a>00537         <span class="comment">//Check it's valid</span>
<a name="l00538"></a>00538         <span class="keywordflow">if</span> (!iIndex)
<a name="l00539"></a>00539             <span class="keywordflow">return</span> <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00540"></a>00540 
<a name="l00541"></a>00541         <span class="comment">//Enter the critical section</span>
<a name="l00542"></a>00542         <a class="code" href="classCCriticalAutoRelease.html">CCriticalAutoRelease</a> aRelease(m_pCSection);
<a name="l00543"></a>00543 
<a name="l00544"></a>00544         <span class="comment">//Return the thread</span>
<a name="l00545"></a>00545         <span class="keywordflow">return</span> m_pThreadData[iIndex-1].<a class="code" href="structCSocketThreadManager_1_1__ThreadData.html#1c18c0207c42c981febc6b0b72bf70cf">pThread</a>;
<a name="l00546"></a>00546     }
<a name="l00547"></a>00547     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#de1532de61862588013aae2100d1cbc7">ERROR_HANDLER_RETURN</a>(<span class="stringliteral">"GetThreadByHWND"</span>,<a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00548"></a>00548 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="cdcda0b3cf99e5b4eb75bc4e9cd0cea2"></a><!-- doxytag: member="CSocketThreadManager::GetWindowHandle" ref="cdcda0b3cf99e5b4eb75bc4e9cd0cea2" args="(BOOL bTimeout=FALSE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HWND CSocketThreadManager::GetWindowHandle           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>&nbsp;</td>
          <td class="paramname"> <em>bTimeout</em> = <code>FALSE</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l00500">500</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00501"></a>00501 {   
<a name="l00502"></a>00502     <span class="keywordflow">try</span>
<a name="l00503"></a>00503     {
<a name="l00504"></a>00504         <span class="comment">//Shared resource</span>
<a name="l00505"></a>00505         <a class="code" href="classCCriticalAutoRelease.html">CCriticalAutoRelease</a> aRelease(m_pCSection);
<a name="l00506"></a>00506     
<a name="l00507"></a>00507         <span class="comment">//Get the freeiest index</span>
<a name="l00508"></a>00508         <span class="keywordtype">int</span> iIndex;
<a name="l00509"></a>00509         iIndex=GetMostAvailableThread();
<a name="l00510"></a>00510 
<a name="l00511"></a>00511         <span class="comment">//Check it's valid</span>
<a name="l00512"></a>00512         <span class="keywordflow">if</span> (!iIndex)
<a name="l00513"></a>00513             <span class="comment">//Quit</span>
<a name="l00514"></a>00514             <span class="keywordflow">return</span> 0;
<a name="l00515"></a>00515     
<a name="l00516"></a>00516         <span class="comment">//Check what to increase</span>
<a name="l00517"></a>00517         <span class="keywordflow">if</span> (bTimeout)
<a name="l00518"></a>00518             ++m_pThreadData[iIndex-1].<a class="code" href="structCSocketThreadManager_1_1__ThreadData.html#d0835a9a59959e617b60fd0bf8bbc6e6">iTimeoutCount</a>;
<a name="l00519"></a>00519         <span class="keywordflow">else</span>
<a name="l00520"></a>00520             <span class="comment">//Increase the socket count</span>
<a name="l00521"></a>00521             ++m_pThreadData[iIndex-1].<a class="code" href="structCSocketThreadManager_1_1__ThreadData.html#4462c82718bfd8991e078cad6c87ad3e">iSocketCount</a>;
<a name="l00522"></a>00522 
<a name="l00523"></a>00523         <span class="comment">//Done</span>
<a name="l00524"></a>00524         <span class="keywordflow">return</span> m_pThreadData[iIndex-1].<a class="code" href="structCSocketThreadManager_1_1__ThreadData.html#7c1f0a1240f41401f17adced04211275">hWindowHandle</a>;
<a name="l00525"></a>00525     }
<a name="l00526"></a>00526     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#de1532de61862588013aae2100d1cbc7">ERROR_HANDLER_RETURN</a>(<span class="stringliteral">"GetWindowHandle"</span>,0)
<a name="l00527"></a>00527 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="4b9bc8d8bb96858b8c0b3d727d91071e"></a><!-- doxytag: member="CSocketThreadManager::Initialize" ref="4b9bc8d8bb96858b8c0b3d727d91071e" args="(unsigned long ulThreadCount, LPCSTR lpClassName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> CSocketThreadManager::Initialize           </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>ulThreadCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#dbea528b1294c9a1dfda3dfa33ff1472">LPCSTR</a>&nbsp;</td>
          <td class="paramname"> <em>lpClassName</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l00113">113</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00115"></a>00115 {
<a name="l00116"></a>00116     <span class="keywordflow">try</span>
<a name="l00117"></a>00117     {
<a name="l00118"></a>00118         <span class="comment">//Are we initialized?</span>
<a name="l00119"></a>00119         <span class="keywordflow">if</span> (m_bInitialized)
<a name="l00120"></a>00120         {
<a name="l00121"></a>00121             <span class="comment">//Report it</span>
<a name="l00122"></a>00122             <a class="code" href="classCErrorHandler.html#4532ad1728ec871fdb6932d3936f78cb">ReportError</a>(<span class="stringliteral">"Initialize"</span>,<span class="stringliteral">"Already initialized!"</span>);
<a name="l00123"></a>00123 
<a name="l00124"></a>00124             <span class="comment">//Exit</span>
<a name="l00125"></a>00125             <span class="keywordflow">return</span> <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#a93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00126"></a>00126         }
<a name="l00127"></a>00127 
<a name="l00128"></a>00128         <span class="comment">//Check the number of threads</span>
<a name="l00129"></a>00129         <span class="keywordflow">if</span> (ulThreadCount&gt;<a class="code" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8h.html#8b5173357adb02a86c027316e0acdfa0">MAX_THREADS</a>)
<a name="l00130"></a>00130         {
<a name="l00131"></a>00131             <span class="comment">//Report it</span>
<a name="l00132"></a>00132             <a class="code" href="classCErrorHandler.html#4532ad1728ec871fdb6932d3936f78cb">ReportError</a>(<span class="stringliteral">"Initialize"</span>,<span class="stringliteral">"Too many threads to spawn!"</span>);
<a name="l00133"></a>00133 
<a name="l00134"></a>00134             <span class="comment">//Exit</span>
<a name="l00135"></a>00135             <span class="keywordflow">return</span> <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#a93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00136"></a>00136         }
<a name="l00137"></a>00137 
<a name="l00138"></a>00138         <span class="comment">//Check the number of threads</span>
<a name="l00139"></a>00139         <span class="keywordflow">if</span> (!ulThreadCount)
<a name="l00140"></a>00140         {
<a name="l00141"></a>00141             <span class="comment">//Report it</span>
<a name="l00142"></a>00142             <a class="code" href="classCErrorHandler.html#4532ad1728ec871fdb6932d3936f78cb">ReportError</a>(<span class="stringliteral">"Initialize"</span>,<span class="stringliteral">"Can't have zero threads!"</span>);
<a name="l00143"></a>00143 
<a name="l00144"></a>00144             <span class="comment">//Exit</span>
<a name="l00145"></a>00145             <span class="keywordflow">return</span> <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#a93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00146"></a>00146         }
<a name="l00147"></a>00147 
<a name="l00148"></a>00148         <span class="comment">//Save the count</span>
<a name="l00149"></a>00149         m_ulThreadCount=ulThreadCount;
<a name="l00150"></a>00150 
<a name="l00151"></a>00151         <span class="comment">//Try to spawn the threads</span>
<a name="l00152"></a>00152         <span class="keywordflow">return</span> SpawnThreads(lpClassName);
<a name="l00153"></a>00153     }
<a name="l00154"></a>00154     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#de1532de61862588013aae2100d1cbc7">ERROR_HANDLER_RETURN</a>(<span class="stringliteral">"Initialize"</span>,<a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#a93f0eb578d23995850d61f7d61c55c1">FALSE</a>)
<a name="l00155"></a>00155 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="dbad1bf1baceb917e1b88305c0d4dee1"></a><!-- doxytag: member="CSocketThreadManager::IsInitialized" ref="dbad1bf1baceb917e1b88305c0d4dee1" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> CSocketThreadManager::IsInitialized           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l01001">1001</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01002"></a>01002 {
<a name="l01003"></a>01003     <span class="keywordflow">return</span> m_bInitialized;
<a name="l01004"></a>01004 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e7343052a9c2e940d6536dc00f87a418"></a><!-- doxytag: member="CSocketThreadManager::ParseDispatchMessage" ref="e7343052a9c2e940d6536dc00f87a418" args="(const MSG &amp;rMsg, ThreadData *pData)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CSocketThreadManager::ParseDispatchMessage           </td>
          <td>(</td>
          <td class="paramtype">const MSG &amp;&nbsp;</td>
          <td class="paramname"> <em>rMsg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCSocketThreadManager_1_1__ThreadData.html">ThreadData</a> *&nbsp;</td>
          <td class="paramname"> <em>pData</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Reimplemented in <a class="el" href="classCSocketThreadManagerImp.html#5e44863fe070d2902a8b8b63cc0a9730">CSocketThreadManagerImp</a>.</p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l01011">1011</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01013"></a>01013 {
<a name="l01014"></a>01014     <span class="comment">//Just dispatch it</span>
<a name="l01015"></a>01015     DispatchMessage(&amp;rMsg);
<a name="l01016"></a>01016 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="dab679d913d16e130eb5500e476d0dd9"></a><!-- doxytag: member="CSocketThreadManager::RegisterError" ref="dab679d913d16e130eb5500e476d0dd9" args="(DWORD dwErrorCode, const std::string &amp;rDescription)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::RegisterError           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>dwErrorCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rDescription</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00647">647</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00649"></a>00649 {
<a name="l00650"></a>00650     <span class="keywordflow">try</span>
<a name="l00651"></a>00651     {
<a name="l00652"></a>00652         <span class="comment">//Add the error</span>
<a name="l00653"></a>00653         CErrorsRepository::GetInstance().GetErrorsMap().insert(CErrorsRepository::ErrorMap::value_type(dwErrorCode,rDescription));
<a name="l00654"></a>00654     }
<a name="l00655"></a>00655     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#66cceba0bc8bb5f6be209011bb53bde6">ERROR_HANDLER_STATIC</a>(<a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp.html#1e5730f63f8fb8572614ba570e014418">CErrorHandler_Class</a>,<span class="stringliteral">"RegisterError"</span>)
<a name="l00656"></a>00656 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e2a6728b26378a0dd98bd5a8258dc5eb"></a><!-- doxytag: member="CSocketThreadManager::RegisterTimeout" ref="e2a6728b26378a0dd98bd5a8258dc5eb" args="(int iMS, LPTimeoutProc pProc, LPVOID pData, BOOL bClearTimeout=FALSE, HWND hHandle=NULL, TimerID *pTimer=NULL, LPTimeoutProc pDeleteProc=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structCSocketThreadManager_1_1__TimerID.html">CSocketThreadManager::TimerID</a> CSocketThreadManager::RegisterTimeout           </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iMS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCSocketThreadManager.html#cb39cd12d49572dc76ce74b0a90e746a">LPTimeoutProc</a>&nbsp;</td>
          <td class="paramname"> <em>pProc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#b064840df4ab5a8cf90ddb963f94de34">LPVOID</a>&nbsp;</td>
          <td class="paramname"> <em>pData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>&nbsp;</td>
          <td class="paramname"> <em>bClearTimeout</em> = <code>FALSE</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">HWND&nbsp;</td>
          <td class="paramname"> <em>hHandle</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structCSocketThreadManager_1_1__TimerID.html">TimerID</a> *&nbsp;</td>
          <td class="paramname"> <em>pTimer</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCSocketThreadManager.html#cb39cd12d49572dc76ce74b0a90e746a">LPTimeoutProc</a>&nbsp;</td>
          <td class="paramname"> <em>pDeleteProc</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l00714">714</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00721"></a>00721 {
<a name="l00722"></a>00722     <a class="code" href="classCSocketThreadManager.html#5a74758ebb74a64b511bc3fe8822670f">TimerID</a> aTimerID;
<a name="l00723"></a>00723     aTimerID.<a class="code" href="structCSocketThreadManager_1_1__TimerID.html#0947a3d8d9d82c890f387c7395e628e2">iIndex</a>=0;
<a name="l00724"></a>00724 
<a name="l00725"></a>00725     <span class="keywordflow">try</span>
<a name="l00726"></a>00726     {
<a name="l00727"></a>00727         <span class="comment">//Do we have a timer ?</span>
<a name="l00728"></a>00728         <span class="keywordflow">if</span> (pTimer)
<a name="l00729"></a>00729             memset(pTimer,0,<span class="keyword">sizeof</span>(<a class="code" href="classCSocketThreadManager.html#5a74758ebb74a64b511bc3fe8822670f">TimerID</a>));
<a name="l00730"></a>00730 
<a name="l00731"></a>00731         <span class="keywordtype">int</span> iIndex;
<a name="l00732"></a>00732 
<a name="l00733"></a>00733         <span class="comment">//Create the data structure (to save time on the CS)</span>
<a name="l00734"></a>00734         <a class="code" href="classCSocketThreadManager.html#268227bf10daae0e45d25c6fc5204ef2">TimeoutData</a> aData;
<a name="l00735"></a>00735         aData.<a class="code" href="structCSocketThreadManager_1_1__TimeoutData.html#31621254fd3be878639358ec5c545c8b">pTimeoutProc</a>=pProc;
<a name="l00736"></a>00736         aData.pData=pData;
<a name="l00737"></a>00737         aData.bClearTimeout=bClearTimeout;
<a name="l00738"></a>00738         aData.pTimer=pTimer;
<a name="l00739"></a>00739         aData.pDeleteProc=pDeleteProc;
<a name="l00740"></a>00740 
<a name="l00741"></a>00741         <span class="comment">//Enter the CS</span>
<a name="l00742"></a>00742         <a class="code" href="classCCriticalAutoRelease.html">CCriticalAutoRelease</a> aRelease(m_pCSection);
<a name="l00743"></a>00743 
<a name="l00744"></a>00744         <span class="comment">//Do we have a handle</span>
<a name="l00745"></a>00745         <span class="keywordflow">if</span> (hHandle)
<a name="l00746"></a>00746         {
<a name="l00747"></a>00747             <span class="comment">//Get it</span>
<a name="l00748"></a>00748             iIndex=GetIndexByHWND(hHandle);
<a name="l00749"></a>00749 
<a name="l00750"></a>00750             <span class="comment">//Do we have it</span>
<a name="l00751"></a>00751             <span class="keywordflow">if</span> (!iIndex)
<a name="l00752"></a>00752             {
<a name="l00753"></a>00753                 <span class="comment">//Report it</span>
<a name="l00754"></a>00754                 <a class="code" href="classCErrorHandler.html#4532ad1728ec871fdb6932d3936f78cb">ReportError</a>(<span class="stringliteral">"RegisterTimeout"</span>,<span class="stringliteral">"Failed to find handle!"</span>);
<a name="l00755"></a>00755 
<a name="l00756"></a>00756                 <span class="comment">//Exit</span>
<a name="l00757"></a>00757                 <span class="keywordflow">return</span> aTimerID;
<a name="l00758"></a>00758             }
<a name="l00759"></a>00759             <span class="keywordflow">else</span>
<a name="l00760"></a>00760                 --iIndex;           
<a name="l00761"></a>00761         }
<a name="l00762"></a>00762         <span class="keywordflow">else</span>
<a name="l00763"></a>00763         {
<a name="l00764"></a>00764             <span class="comment">//Get the handler</span>
<a name="l00765"></a>00765             iIndex=GetMostAvailableThread();
<a name="l00766"></a>00766 
<a name="l00767"></a>00767             <span class="comment">//Check it's legal</span>
<a name="l00768"></a>00768             <span class="keywordflow">if</span> (!iIndex)
<a name="l00769"></a>00769             {
<a name="l00770"></a>00770                 <span class="comment">//Report the error</span>
<a name="l00771"></a>00771                 <a class="code" href="classCErrorHandler.html#4532ad1728ec871fdb6932d3936f78cb">ReportError</a>(<span class="stringliteral">"RegisterTimeout"</span>,<span class="stringliteral">"Failed to find thread!"</span>);
<a name="l00772"></a>00772 
<a name="l00773"></a>00773                 <span class="comment">//Quit</span>
<a name="l00774"></a>00774                 <span class="keywordflow">return</span> aTimerID;
<a name="l00775"></a>00775             }
<a name="l00776"></a>00776 
<a name="l00777"></a>00777             <span class="comment">//Reset the index</span>
<a name="l00778"></a>00778             --iIndex;
<a name="l00779"></a>00779         }
<a name="l00780"></a>00780 
<a name="l00781"></a>00781         <span class="comment">//Our timer ID</span>
<a name="l00782"></a>00782         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> iTimerID;
<a name="l00783"></a>00783         iTimerID=0;
<a name="l00784"></a>00784 
<a name="l00785"></a>00785         <span class="comment">//Timer counter</span>
<a name="l00786"></a>00786         <span class="keyword">static</span> <span class="keywordtype">int</span> sTimerCounter=1000000;
<a name="l00787"></a>00787 
<a name="l00788"></a>00788         <span class="comment">//Get the timerID</span>
<a name="l00789"></a>00789         <span class="keywordtype">int</span> iSetTimerID;
<a name="l00790"></a>00790         iSetTimerID=sTimerCounter++;
<a name="l00791"></a>00791 
<a name="l00792"></a>00792         <span class="comment">//Lock the thread data</span>
<a name="l00793"></a>00793         <a class="code" href="classCCriticalAutoRelease.html">CCriticalAutoRelease</a> aRelease2(m_pThreadData[iIndex].pCSection);
<a name="l00794"></a>00794 
<a name="l00795"></a>00795         <span class="comment">//Increase the timeout count</span>
<a name="l00796"></a>00796         ++m_pThreadData[iIndex].<a class="code" href="structCSocketThreadManager_1_1__ThreadData.html#d0835a9a59959e617b60fd0bf8bbc6e6">iTimeoutCount</a>;
<a name="l00797"></a>00797 
<a name="l00798"></a>00798         <span class="comment">//Register the data</span>
<a name="l00799"></a>00799         m_pThreadData[iIndex].<a class="code" href="structCSocketThreadManager_1_1__ThreadData.html#b15f453e74b06510c80e29008eca77f1">pMap</a>.insert(TOMap::value_type(iSetTimerID,aData));
<a name="l00800"></a>00800 
<a name="l00801"></a>00801         <span class="comment">//Exit the CS</span>
<a name="l00802"></a>00802         aRelease2.Exit();
<a name="l00803"></a>00803         aRelease.Exit();
<a name="l00804"></a>00804 
<a name="l00805"></a>00805         <span class="comment">//Register the timeout</span>
<a name="l00806"></a>00806         iTimerID=SetTimer(m_pThreadData[iIndex].hWindowHandle,
<a name="l00807"></a>00807                           iSetTimerID,
<a name="l00808"></a>00808                           iMS,
<a name="l00809"></a>00809                           <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00810"></a>00810 
<a name="l00811"></a>00811         <span class="comment">//Check we have the timer</span>
<a name="l00812"></a>00812         <span class="keywordflow">if</span> (!iTimerID)
<a name="l00813"></a>00813         {
<a name="l00814"></a>00814             {
<a name="l00815"></a>00815                 <span class="comment">//Remove it</span>
<a name="l00816"></a>00816                 <span class="comment">//Lock the thread data</span>
<a name="l00817"></a>00817                 <a class="code" href="classCCriticalAutoRelease.html">CCriticalAutoRelease</a> aRelease2(m_pThreadData[iIndex].pCSection);
<a name="l00818"></a>00818 
<a name="l00819"></a>00819                 <span class="comment">//Increase the timeout count</span>
<a name="l00820"></a>00820                 --m_pThreadData[iIndex].<a class="code" href="structCSocketThreadManager_1_1__ThreadData.html#d0835a9a59959e617b60fd0bf8bbc6e6">iTimeoutCount</a>;
<a name="l00821"></a>00821 
<a name="l00822"></a>00822                 <span class="comment">//Register the data</span>
<a name="l00823"></a>00823                 m_pThreadData[iIndex].<a class="code" href="structCSocketThreadManager_1_1__ThreadData.html#b15f453e74b06510c80e29008eca77f1">pMap</a>.erase(iSetTimerID);
<a name="l00824"></a>00824             }
<a name="l00825"></a>00825 
<a name="l00826"></a>00826             <span class="comment">//Write the error</span>
<a name="l00827"></a>00827             <a class="code" href="classCErrorHandler.html#4532ad1728ec871fdb6932d3936f78cb">ReportError</a>(<span class="stringliteral">"RegisterTimeout"</span>,<span class="stringliteral">"Failed to create the timer!"</span>);
<a name="l00828"></a>00828 
<a name="l00829"></a>00829             <span class="comment">//Quit</span>
<a name="l00830"></a>00830             <span class="keywordflow">return</span> aTimerID;
<a name="l00831"></a>00831         }
<a name="l00832"></a>00832 
<a name="l00833"></a>00833         <span class="comment">//Create the data</span>
<a name="l00834"></a>00834         aTimerID.iTimerID=iSetTimerID;
<a name="l00835"></a>00835         aTimerID.iIndex=iIndex+1;
<a name="l00836"></a>00836         aTimerID.iMS=iMS;
<a name="l00837"></a>00837 
<a name="l00838"></a>00838         <span class="comment">//Do we have a timer ?</span>
<a name="l00839"></a>00839         <span class="keywordflow">if</span> (pTimer)
<a name="l00840"></a>00840             memcpy(pTimer,&amp;aTimerID,<span class="keyword">sizeof</span>(aTimerID));
<a name="l00841"></a>00841 
<a name="l00842"></a>00842         <span class="comment">//Done</span>
<a name="l00843"></a>00843         <span class="keywordflow">return</span> aTimerID;
<a name="l00844"></a>00844     }
<a name="l00845"></a>00845     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#de1532de61862588013aae2100d1cbc7">ERROR_HANDLER_RETURN</a>(<span class="stringliteral">"RegisterTimeout"</span>,aTimerID)
<a name="l00846"></a>00846 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="49722857da6bcec30ef94d97fecfefc3"></a><!-- doxytag: member="CSocketThreadManager::RemoveTimeout" ref="49722857da6bcec30ef94d97fecfefc3" args="(TimerID &amp;aTimerID, BOOL bInvokeDeleteProc=FALSE)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> CSocketThreadManager::RemoveTimeout           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structCSocketThreadManager_1_1__TimerID.html">TimerID</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>aTimerID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a>&nbsp;</td>
          <td class="paramname"> <em>bInvokeDeleteProc</em> = <code>FALSE</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l00848">848</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00850"></a>00850 {
<a name="l00851"></a>00851     <span class="comment">//Check it's a valid timeout</span>
<a name="l00852"></a>00852     <span class="keywordflow">if</span> (!aTimerID.iIndex)
<a name="l00853"></a>00853     {
<a name="l00854"></a>00854         <span class="comment">//Write the error</span>
<a name="l00855"></a>00855         <a class="code" href="classCErrorHandler.html#4532ad1728ec871fdb6932d3936f78cb">ReportError</a>(<span class="stringliteral">"RemoveTimeout"</span>,<span class="stringliteral">"Received invalid TimerID"</span>);
<a name="l00856"></a>00856 
<a name="l00857"></a>00857         <span class="comment">//Quit</span>
<a name="l00858"></a>00858         <span class="keywordflow">return</span> <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#a93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00859"></a>00859     }
<a name="l00860"></a>00860 
<a name="l00861"></a>00861     <span class="keywordflow">try</span>
<a name="l00862"></a>00862     {
<a name="l00863"></a>00863         <span class="comment">//First unregister the timer</span>
<a name="l00864"></a>00864         <span class="keywordflow">if</span> (!KillTimer(m_pThreadData[aTimerID.iIndex-1].hWindowHandle,
<a name="l00865"></a>00865                        aTimerID.iTimerID))
<a name="l00866"></a>00866             <span class="comment">//Report it</span>
<a name="l00867"></a>00867             <a class="code" href="classCErrorHandler.html#5b28bd4603cfcaefe8e0378f21173f20">ReportErrorOS</a>(<span class="stringliteral">"RemoveTimeout"</span>,<span class="stringliteral">"Failed to delete timer!"</span>);
<a name="l00868"></a>00868 
<a name="l00869"></a>00869         {
<a name="l00870"></a>00870             <span class="comment">//Lock the timeout manager</span>
<a name="l00871"></a>00871             <a class="code" href="classCCriticalAutoRelease.html">CCriticalAutoRelease</a> aRelease(m_pThreadData[aTimerID.iIndex-1].pCSection);
<a name="l00872"></a>00872 
<a name="l00873"></a>00873             <span class="comment">//Do we need to invoke the delete proc?</span>
<a name="l00874"></a>00874             <span class="keywordflow">if</span> (!bInvokeDeleteProc)
<a name="l00875"></a>00875                 <span class="comment">//No remove from the map</span>
<a name="l00876"></a>00876                 m_pThreadData[aTimerID.iIndex-1].<a class="code" href="structCSocketThreadManager_1_1__ThreadData.html#b15f453e74b06510c80e29008eca77f1">pMap</a>.erase(aTimerID.iTimerID);
<a name="l00877"></a>00877             <span class="keywordflow">else</span>
<a name="l00878"></a>00878             {
<a name="l00879"></a>00879                 <span class="comment">//We need to look for the data</span>
<a name="l00880"></a>00880                 TOMap::iterator aIterator;
<a name="l00881"></a>00881                 aIterator=m_pThreadData[aTimerID.iIndex-1].<a class="code" href="structCSocketThreadManager_1_1__ThreadData.html#b15f453e74b06510c80e29008eca77f1">pMap</a>.find(aTimerID.iTimerID);
<a name="l00882"></a>00882 
<a name="l00883"></a>00883                 <span class="comment">//Do we have it?</span>
<a name="l00884"></a>00884                 <span class="keywordflow">if</span> (aIterator!=m_pThreadData[aTimerID.iIndex-1].pMap.end())
<a name="l00885"></a>00885                 {
<a name="l00886"></a>00886                     <span class="comment">//Do we have the delete proc?</span>
<a name="l00887"></a>00887                     <span class="keywordflow">if</span> (aIterator-&gt;second.pDeleteProc)
<a name="l00888"></a>00888                         <span class="comment">//Invoke it</span>
<a name="l00889"></a>00889                         (*aIterator-&gt;second.pDeleteProc)(aIterator-&gt;second.pData);
<a name="l00890"></a>00890 
<a name="l00891"></a>00891                     <span class="comment">//Remove the entry</span>
<a name="l00892"></a>00892                     m_pThreadData[aTimerID.iIndex-1].<a class="code" href="structCSocketThreadManager_1_1__ThreadData.html#b15f453e74b06510c80e29008eca77f1">pMap</a>.erase(aIterator);
<a name="l00893"></a>00893                 }
<a name="l00894"></a>00894                 <span class="keywordflow">else</span>
<a name="l00895"></a>00895                     <span class="comment">//Report it</span>
<a name="l00896"></a>00896                     <a class="code" href="classCErrorHandler.html#4532ad1728ec871fdb6932d3936f78cb">ReportError</a>(<span class="stringliteral">"RemoveTimeout"</span>,<span class="stringliteral">"Failed to find data!"</span>);
<a name="l00897"></a>00897             }
<a name="l00898"></a>00898                     
<a name="l00899"></a>00899             <span class="comment">//Decrease the count</span>
<a name="l00900"></a>00900             --m_pThreadData[aTimerID.iIndex-1].<a class="code" href="structCSocketThreadManager_1_1__ThreadData.html#d0835a9a59959e617b60fd0bf8bbc6e6">iTimeoutCount</a>;
<a name="l00901"></a>00901 
<a name="l00902"></a>00902             <span class="comment">//Set the old timer ID</span>
<a name="l00903"></a>00903             aTimerID.iIndex=0;
<a name="l00904"></a>00904             aTimerID.iMS=0;
<a name="l00905"></a>00905             aTimerID.iTimerID=0;
<a name="l00906"></a>00906         }
<a name="l00907"></a>00907 
<a name="l00908"></a>00908         <span class="comment">//Done </span>
<a name="l00909"></a>00909         <span class="keywordflow">return</span> <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#a8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00910"></a>00910     }
<a name="l00911"></a>00911     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#de1532de61862588013aae2100d1cbc7">ERROR_HANDLER_RETURN</a>(<span class="stringliteral">"RemoveTimeout"</span>,<a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#a93f0eb578d23995850d61f7d61c55c1">FALSE</a>)
<a name="l00912"></a>00912 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="5d8781f6e75fda4216de742412638bbe"></a><!-- doxytag: member="CSocketThreadManager::ReportError" ref="5d8781f6e75fda4216de742412638bbe" args="(const std::string &amp;rMethod, const std::string &amp;rMessage, int iErrorCode) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::ReportError           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMethod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMessage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iErrorCode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [protected, virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00304">304</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00307"></a>00307 {
<a name="l00308"></a>00308     <span class="keywordflow">if</span> (!GetLog())
<a name="l00309"></a>00309         <span class="keywordflow">return</span>;
<a name="l00310"></a>00310 
<a name="l00311"></a>00311     <span class="keywordflow">try</span>
<a name="l00312"></a>00312     {
<a name="l00313"></a>00313         <span class="comment">//Convert the error code</span>
<a name="l00314"></a>00314         <span class="keywordtype">char</span> aTmp[11];
<a name="l00315"></a>00315         sprintf(aTmp,<span class="stringliteral">"%d"</span>,iErrorCode);
<a name="l00316"></a>00316 
<a name="l00317"></a>00317         <span class="comment">//Get the string for it</span>
<a name="l00318"></a>00318         std::string sError;
<a name="l00319"></a>00319         sError=rMessage;
<a name="l00320"></a>00320         sError+=<span class="stringliteral">", and Socket error: "</span>;
<a name="l00321"></a>00321         sError+=aTmp;
<a name="l00322"></a>00322         sError+=<span class="stringliteral">", "</span>;
<a name="l00323"></a>00323         sError+=<a class="code" href="classCErrorHandler.html#0b65597ee3c5e716dd96cf8f793aaaec">ErrorCodeToString</a>(iErrorCode);
<a name="l00324"></a>00324 
<a name="l00325"></a>00325         <span class="comment">//Report to the log</span>
<a name="l00326"></a>00326         <a class="code" href="classCErrorHandler.html#083cbdc66a1c603b10ea7ee48dcda9d1">WriteError</a>(m_sClassName,
<a name="l00327"></a>00327                    rMethod,
<a name="l00328"></a>00328                    sError);
<a name="l00329"></a>00329     }
<a name="l00330"></a>00330     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#aa5707bed26a843d0b2046b2e21b8c89">ERROR_UNKNOWN</a>(<span class="stringliteral">"ReportError"</span>)
<a name="l00331"></a>00331 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="aceaa619f74e4581e32fc715ca1b49a6"></a><!-- doxytag: member="CSocketThreadManager::ReportError" ref="aceaa619f74e4581e32fc715ca1b49a6" args="(const std::string &amp;rMethod, int iErrorCode) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::ReportError           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMethod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>iErrorCode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [protected, virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00333">333</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00335"></a>00335 {
<a name="l00336"></a>00336     <span class="keywordflow">if</span> (!GetLog())
<a name="l00337"></a>00337         <span class="keywordflow">return</span>;
<a name="l00338"></a>00338 
<a name="l00339"></a>00339     <span class="keywordflow">try</span>
<a name="l00340"></a>00340     {
<a name="l00341"></a>00341         <span class="comment">//Convert the error code</span>
<a name="l00342"></a>00342         <span class="keywordtype">char</span> aTmp[11];
<a name="l00343"></a>00343         sprintf(aTmp,<span class="stringliteral">"%d"</span>,iErrorCode);
<a name="l00344"></a>00344 
<a name="l00345"></a>00345         <span class="comment">//Get the string for it</span>
<a name="l00346"></a>00346         std::string sError;
<a name="l00347"></a>00347         sError=<span class="stringliteral">"Socket error: "</span>;
<a name="l00348"></a>00348         sError+=aTmp;
<a name="l00349"></a>00349         sError+=<span class="stringliteral">", "</span>;
<a name="l00350"></a>00350         sError+=<a class="code" href="classCErrorHandler.html#0b65597ee3c5e716dd96cf8f793aaaec">ErrorCodeToString</a>(iErrorCode);
<a name="l00351"></a>00351 
<a name="l00352"></a>00352         <span class="comment">//Report to the log</span>
<a name="l00353"></a>00353         <a class="code" href="classCErrorHandler.html#083cbdc66a1c603b10ea7ee48dcda9d1">WriteError</a>(m_sClassName,
<a name="l00354"></a>00354                    rMethod,
<a name="l00355"></a>00355                    sError);
<a name="l00356"></a>00356     }
<a name="l00357"></a>00357     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#aa5707bed26a843d0b2046b2e21b8c89">ERROR_UNKNOWN</a>(<span class="stringliteral">"ReportError"</span>)
<a name="l00358"></a>00358 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="27fa657a1efaf41d073d1075e1d68ead"></a><!-- doxytag: member="CSocketThreadManager::ReportError" ref="27fa657a1efaf41d073d1075e1d68ead" args="(const std::string &amp;rMethod, const std::string &amp;rMessage, const std::string &amp;rAdditionalData) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::ReportError           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMethod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMessage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rAdditionalData</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [protected, virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00461">461</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00464"></a>00464 {
<a name="l00465"></a>00465     <span class="keywordflow">if</span> (!GetLog())
<a name="l00466"></a>00466         <span class="keywordflow">return</span>;
<a name="l00467"></a>00467 
<a name="l00468"></a>00468     <span class="keywordflow">try</span>
<a name="l00469"></a>00469     {
<a name="l00470"></a>00470         <span class="comment">//Create the new message</span>
<a name="l00471"></a>00471         std::string sNewMessage(rMessage);
<a name="l00472"></a>00472         sNewMessage+=<span class="stringliteral">", Additional data: "</span>;
<a name="l00473"></a>00473         sNewMessage+=rAdditionalData;
<a name="l00474"></a>00474 
<a name="l00475"></a>00475         <span class="comment">//Report to the log</span>
<a name="l00476"></a>00476         <a class="code" href="classCErrorHandler.html#083cbdc66a1c603b10ea7ee48dcda9d1">WriteError</a>(m_sClassName,
<a name="l00477"></a>00477                    rMethod,
<a name="l00478"></a>00478                    sNewMessage);
<a name="l00479"></a>00479     }
<a name="l00480"></a>00480     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#aa5707bed26a843d0b2046b2e21b8c89">ERROR_UNKNOWN</a>(<span class="stringliteral">"ReportError"</span>)
<a name="l00481"></a>00481 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="f5d72abf3e1cd480d865b778c5612dab"></a><!-- doxytag: member="CSocketThreadManager::ReportError" ref="f5d72abf3e1cd480d865b778c5612dab" args="(const std::string &amp;rMethod, const std::string &amp;rMessage, DWORD dwAdditionalData) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::ReportError           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMethod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMessage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>dwAdditionalData</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [protected, virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00483">483</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00486"></a>00486 {
<a name="l00487"></a>00487     <span class="keywordflow">if</span> (!GetLog())
<a name="l00488"></a>00488         <span class="keywordflow">return</span>;
<a name="l00489"></a>00489 
<a name="l00490"></a>00490     <span class="keywordflow">try</span>
<a name="l00491"></a>00491     {
<a name="l00492"></a>00492         <span class="comment">//Convert the number</span>
<a name="l00493"></a>00493         <span class="keywordtype">char</span> aTmp[11];
<a name="l00494"></a>00494         ltoa(dwAdditionalData,aTmp,10);
<a name="l00495"></a>00495 
<a name="l00496"></a>00496         <span class="comment">//Create the new message</span>
<a name="l00497"></a>00497         std::string sNewMessage(rMessage);
<a name="l00498"></a>00498         sNewMessage+=<span class="stringliteral">", Additional data: "</span>;
<a name="l00499"></a>00499         sNewMessage+=aTmp;
<a name="l00500"></a>00500 
<a name="l00501"></a>00501         <span class="comment">//Report to the log</span>
<a name="l00502"></a>00502         <a class="code" href="classCErrorHandler.html#083cbdc66a1c603b10ea7ee48dcda9d1">WriteError</a>(m_sClassName,
<a name="l00503"></a>00503                    rMethod,
<a name="l00504"></a>00504                    sNewMessage);
<a name="l00505"></a>00505     }
<a name="l00506"></a>00506     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#aa5707bed26a843d0b2046b2e21b8c89">ERROR_UNKNOWN</a>(<span class="stringliteral">"ReportError"</span>)
<a name="l00507"></a>00507 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="e2e270981bfe2853705dbac3e6d1a179"></a><!-- doxytag: member="CSocketThreadManager::ReportError" ref="e2e270981bfe2853705dbac3e6d1a179" args="(const std::string &amp;rMethod, const std::string &amp;rMessage) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::ReportError           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMethod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMessage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [protected, virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00376">376</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00378"></a>00378 {
<a name="l00379"></a>00379     <span class="keywordflow">if</span> (!GetLog())
<a name="l00380"></a>00380         <span class="keywordflow">return</span>;
<a name="l00381"></a>00381 
<a name="l00382"></a>00382     <span class="keywordflow">try</span>
<a name="l00383"></a>00383     {
<a name="l00384"></a>00384         <span class="comment">//Report to the log</span>
<a name="l00385"></a>00385         <a class="code" href="classCErrorHandler.html#083cbdc66a1c603b10ea7ee48dcda9d1">WriteError</a>(m_sClassName,
<a name="l00386"></a>00386                    rMethod,
<a name="l00387"></a>00387                    rMessage);
<a name="l00388"></a>00388     }
<a name="l00389"></a>00389     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#aa5707bed26a843d0b2046b2e21b8c89">ERROR_UNKNOWN</a>(<span class="stringliteral">"ReportError"</span>)
<a name="l00390"></a>00390 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="4532ad1728ec871fdb6932d3936f78cb"></a><!-- doxytag: member="CSocketThreadManager::ReportError" ref="4532ad1728ec871fdb6932d3936f78cb" args="(const std::string &amp;rMethod) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::ReportError           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMethod</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected, virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00515">515</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00516"></a>00516 {
<a name="l00517"></a>00517     <span class="keywordflow">if</span> (!GetLog())
<a name="l00518"></a>00518         <span class="keywordflow">return</span>;
<a name="l00519"></a>00519 
<a name="l00520"></a>00520     <span class="keywordflow">try</span>
<a name="l00521"></a>00521     {
<a name="l00522"></a>00522         <span class="comment">//Get the last error</span>
<a name="l00523"></a>00523         <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a> dwLastError;
<a name="l00524"></a>00524         dwLastError=GetLastError();
<a name="l00525"></a>00525 
<a name="l00526"></a>00526         <span class="comment">//Report the error</span>
<a name="l00527"></a>00527         <a class="code" href="classCErrorHandler.html#083cbdc66a1c603b10ea7ee48dcda9d1">WriteError</a>(m_sClassName,
<a name="l00528"></a>00528                    rMethod,
<a name="l00529"></a>00529                    <a class="code" href="classCErrorHandler.html#0b65597ee3c5e716dd96cf8f793aaaec">ErrorCodeToString</a>(dwLastError));
<a name="l00530"></a>00530     }
<a name="l00531"></a>00531     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#aa5707bed26a843d0b2046b2e21b8c89">ERROR_UNKNOWN</a>(<span class="stringliteral">"ReportError"</span>)
<a name="l00532"></a>00532 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="5b28bd4603cfcaefe8e0378f21173f20"></a><!-- doxytag: member="CSocketThreadManager::ReportErrorOS" ref="5b28bd4603cfcaefe8e0378f21173f20" args="(const std::string &amp;rMethod, const std::string &amp;rMessage) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::ReportErrorOS           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMethod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMessage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [protected, virtual, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00427">427</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00429"></a>00429 {
<a name="l00430"></a>00430     <span class="keywordflow">if</span> (!GetLog())
<a name="l00431"></a>00431         <span class="keywordflow">return</span>;
<a name="l00432"></a>00432 
<a name="l00433"></a>00433     <span class="keywordflow">try</span>
<a name="l00434"></a>00434     {
<a name="l00435"></a>00435         <span class="comment">//Get the last error</span>
<a name="l00436"></a>00436         <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a> dwLastError;
<a name="l00437"></a>00437         dwLastError=GetLastError();
<a name="l00438"></a>00438 
<a name="l00439"></a>00439         <span class="comment">//Format the message</span>
<a name="l00440"></a>00440         std::string sMessage;
<a name="l00441"></a>00441         sMessage=rMessage;
<a name="l00442"></a>00442         sMessage+=<span class="stringliteral">", with error code: "</span>;
<a name="l00443"></a>00443 
<a name="l00444"></a>00444         <span class="comment">//Convert the error code</span>
<a name="l00445"></a>00445         <span class="keywordtype">char</span> aTmp[11];
<a name="l00446"></a>00446         itoa(dwLastError,aTmp,10);
<a name="l00447"></a>00447 
<a name="l00448"></a>00448         <span class="comment">//Add it again</span>
<a name="l00449"></a>00449         sMessage+=aTmp;
<a name="l00450"></a>00450         sMessage+=<span class="stringliteral">" "</span>;
<a name="l00451"></a>00451         sMessage+=<a class="code" href="classCErrorHandler.html#0b65597ee3c5e716dd96cf8f793aaaec">ErrorCodeToString</a>(dwLastError);
<a name="l00452"></a>00452 
<a name="l00453"></a>00453         <span class="comment">//Report to the log</span>
<a name="l00454"></a>00454         <a class="code" href="classCErrorHandler.html#083cbdc66a1c603b10ea7ee48dcda9d1">WriteError</a>(m_sClassName,
<a name="l00455"></a>00455                    rMethod,
<a name="l00456"></a>00456                    sMessage);
<a name="l00457"></a>00457     }
<a name="l00458"></a>00458     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#aa5707bed26a843d0b2046b2e21b8c89">ERROR_UNKNOWN</a>(<span class="stringliteral">"ReportErrorOS"</span>)
<a name="l00459"></a>00459 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="3b0a4e8459ee63a5e1b64ddb816b23d5"></a><!-- doxytag: member="CSocketThreadManager::ReportStaticError" ref="3b0a4e8459ee63a5e1b64ddb816b23d5" args="(const std::string &amp;rClass, const std::string &amp;rMethod, const std::string &amp;rMessage, DWORD dwAdditionalData)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::ReportStaticError           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rClass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMethod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMessage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>dwAdditionalData</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00590">590</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00594"></a>00594 {
<a name="l00595"></a>00595     <span class="keywordflow">if</span> (!m_pLog)
<a name="l00596"></a>00596         <span class="keywordflow">return</span>;
<a name="l00597"></a>00597 
<a name="l00598"></a>00598     <span class="keywordflow">try</span>
<a name="l00599"></a>00599     {
<a name="l00600"></a>00600         <span class="comment">//Convert the number</span>
<a name="l00601"></a>00601         <span class="keywordtype">char</span> aTmp[11];
<a name="l00602"></a>00602         ltoa(dwAdditionalData,aTmp,10);
<a name="l00603"></a>00603 
<a name="l00604"></a>00604         <span class="comment">//Create the new message</span>
<a name="l00605"></a>00605         std::string sNewMessage(rMessage);
<a name="l00606"></a>00606         sNewMessage+=<span class="stringliteral">", Additional data: "</span>;
<a name="l00607"></a>00607         sNewMessage+=aTmp;
<a name="l00608"></a>00608 
<a name="l00609"></a>00609         <span class="comment">//Report to the log</span>
<a name="l00610"></a>00610         <a class="code" href="classCErrorHandler.html#a0668543d695d4dae530a10e481849d9">WriteStaticError</a>(rClass,
<a name="l00611"></a>00611                          rMethod,
<a name="l00612"></a>00612                          sNewMessage);
<a name="l00613"></a>00613     }
<a name="l00614"></a>00614     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#aa5707bed26a843d0b2046b2e21b8c89">ERROR_UNKNOWN</a>(<span class="stringliteral">"ReportStaticError"</span>)
<a name="l00615"></a>00615 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="ea82def72894ff6bdede8625d02a831e"></a><!-- doxytag: member="CSocketThreadManager::ReportStaticError" ref="ea82def72894ff6bdede8625d02a831e" args="(const std::string &amp;rClass, const std::string &amp;rMethod, const std::string &amp;rMessage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::ReportStaticError           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rClass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMethod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMessage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00573">573</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00576"></a>00576 {
<a name="l00577"></a>00577     <span class="keywordflow">if</span> (!m_pLog)
<a name="l00578"></a>00578         <span class="keywordflow">return</span>;
<a name="l00579"></a>00579 
<a name="l00580"></a>00580     <span class="keywordflow">try</span>
<a name="l00581"></a>00581     {
<a name="l00582"></a>00582         <span class="comment">//Report to the log</span>
<a name="l00583"></a>00583         <a class="code" href="classCErrorHandler.html#a0668543d695d4dae530a10e481849d9">WriteStaticError</a>(rClass,
<a name="l00584"></a>00584                          rMethod,
<a name="l00585"></a>00585                          rMessage);
<a name="l00586"></a>00586     }
<a name="l00587"></a>00587     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#aa5707bed26a843d0b2046b2e21b8c89">ERROR_UNKNOWN</a>(<span class="stringliteral">"ReportStaticError"</span>)
<a name="l00588"></a>00588 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="691be627f8818507498b10f5641c6ba2"></a><!-- doxytag: member="CSocketThreadManager::ReportStaticError" ref="691be627f8818507498b10f5641c6ba2" args="(const std::string &amp;rClass, const std::string &amp;rMethod)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::ReportStaticError           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rClass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMethod</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00553">553</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00555"></a>00555 {
<a name="l00556"></a>00556     <span class="keywordflow">if</span> (!m_pLog)
<a name="l00557"></a>00557         <span class="keywordflow">return</span>;
<a name="l00558"></a>00558 
<a name="l00559"></a>00559     <span class="keywordflow">try</span>
<a name="l00560"></a>00560     {
<a name="l00561"></a>00561         <span class="comment">//Get the last error</span>
<a name="l00562"></a>00562         <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a> dwLastError;
<a name="l00563"></a>00563         dwLastError=GetLastError();
<a name="l00564"></a>00564 
<a name="l00565"></a>00565         <span class="comment">//Report the error</span>
<a name="l00566"></a>00566         <a class="code" href="classCErrorHandler.html#a0668543d695d4dae530a10e481849d9">WriteStaticError</a>(rClass,
<a name="l00567"></a>00567                           rMethod,
<a name="l00568"></a>00568                           <a class="code" href="classCErrorHandler.html#0b65597ee3c5e716dd96cf8f793aaaec">ErrorCodeToString</a>(dwLastError));
<a name="l00569"></a>00569     }
<a name="l00570"></a>00570     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#aa5707bed26a843d0b2046b2e21b8c89">ERROR_UNKNOWN</a>(<span class="stringliteral">"ReportStaticError"</span>)
<a name="l00571"></a>00571 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="20d938d87aca3b6fbf08a98538f59cc6"></a><!-- doxytag: member="CSocketThreadManager::ReportStaticErrorOS" ref="20d938d87aca3b6fbf08a98538f59cc6" args="(const std::string &amp;rClass, const std::string &amp;rMethod, const std::string &amp;rMessage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::ReportStaticErrorOS           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rClass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMethod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMessage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00392">392</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00395"></a>00395 {
<a name="l00396"></a>00396     <span class="keywordflow">if</span> (!m_pLog)
<a name="l00397"></a>00397         <span class="keywordflow">return</span>;
<a name="l00398"></a>00398 
<a name="l00399"></a>00399     <span class="keywordflow">try</span>
<a name="l00400"></a>00400     {
<a name="l00401"></a>00401         <span class="comment">//Get the last error</span>
<a name="l00402"></a>00402         <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a> dwLastError;
<a name="l00403"></a>00403         dwLastError=GetLastError();
<a name="l00404"></a>00404 
<a name="l00405"></a>00405         <span class="comment">//Format the message</span>
<a name="l00406"></a>00406         std::string sMessage;
<a name="l00407"></a>00407         sMessage=rMessage;
<a name="l00408"></a>00408         sMessage+=<span class="stringliteral">", with error code: "</span>;
<a name="l00409"></a>00409 
<a name="l00410"></a>00410         <span class="comment">//Convert the error code</span>
<a name="l00411"></a>00411         <span class="keywordtype">char</span> aTmp[11];
<a name="l00412"></a>00412         itoa(dwLastError,aTmp,10);
<a name="l00413"></a>00413 
<a name="l00414"></a>00414         <span class="comment">//Add it again</span>
<a name="l00415"></a>00415         sMessage+=aTmp;
<a name="l00416"></a>00416         sMessage+=<span class="stringliteral">" "</span>;
<a name="l00417"></a>00417         sMessage+=<a class="code" href="classCErrorHandler.html#0b65597ee3c5e716dd96cf8f793aaaec">ErrorCodeToString</a>(dwLastError);
<a name="l00418"></a>00418         
<a name="l00419"></a>00419         <span class="comment">//Report to the log</span>
<a name="l00420"></a>00420         <a class="code" href="classCErrorHandler.html#a0668543d695d4dae530a10e481849d9">WriteStaticError</a>(rClass,
<a name="l00421"></a>00421                          rMethod,
<a name="l00422"></a>00422                          sMessage);
<a name="l00423"></a>00423     }
<a name="l00424"></a>00424     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#aa5707bed26a843d0b2046b2e21b8c89">ERROR_UNKNOWN</a>(<span class="stringliteral">"ReportStaticError"</span>)
<a name="l00425"></a>00425 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="76b0fb5a17e096e1aa92ac48ec81b870"></a><!-- doxytag: member="CSocketThreadManager::ReSetTimeout" ref="76b0fb5a17e096e1aa92ac48ec81b870" args="(const TimerID &amp;rTimerID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> CSocketThreadManager::ReSetTimeout           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCSocketThreadManager_1_1__TimerID.html">TimerID</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>rTimerID</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l00965">965</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00966"></a>00966 {
<a name="l00967"></a>00967     <span class="comment">//Check if anyone is smartass</span>
<a name="l00968"></a>00968     <span class="keywordflow">if</span> (!rTimerID.iTimerID)
<a name="l00969"></a>00969     {
<a name="l00970"></a>00970         <span class="comment">//Report it</span>
<a name="l00971"></a>00971         <a class="code" href="classCErrorHandler.html#4532ad1728ec871fdb6932d3936f78cb">ReportError</a>(<span class="stringliteral">"ReSetTimeout"</span>,<span class="stringliteral">"Someone send an empty TimerID!"</span>);
<a name="l00972"></a>00972 
<a name="l00973"></a>00973         <span class="comment">//And exit</span>
<a name="l00974"></a>00974         <span class="keywordflow">return</span> <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#a93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00975"></a>00975     }
<a name="l00976"></a>00976 
<a name="l00977"></a>00977     <span class="keywordflow">try</span>
<a name="l00978"></a>00978     {
<a name="l00979"></a>00979         <span class="comment">//Reset the timer</span>
<a name="l00980"></a>00980         <span class="keywordtype">int</span> iResult;
<a name="l00981"></a>00981         iResult=SetTimer(m_pThreadData[rTimerID.iIndex-1].hWindowHandle,
<a name="l00982"></a>00982                          rTimerID.iTimerID,
<a name="l00983"></a>00983                          rTimerID.iMS,
<a name="l00984"></a>00984                          <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);
<a name="l00985"></a>00985 
<a name="l00986"></a>00986         <span class="comment">//Check the result</span>
<a name="l00987"></a>00987         <span class="keywordflow">if</span> (!iResult)
<a name="l00988"></a>00988             <a class="code" href="classCErrorHandler.html#4532ad1728ec871fdb6932d3936f78cb">ReportError</a>(<span class="stringliteral">"ReSetTimeout"</span>,<span class="stringliteral">"Failed to reset the timeout!"</span>);
<a name="l00989"></a>00989 
<a name="l00990"></a>00990         <span class="comment">//Done</span>
<a name="l00991"></a>00991         <span class="keywordflow">return</span> iResult!=0;
<a name="l00992"></a>00992     }
<a name="l00993"></a>00993     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#de1532de61862588013aae2100d1cbc7">ERROR_HANDLER_RETURN</a>(<span class="stringliteral">"ReSetTimeout"</span>,<a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#a93f0eb578d23995850d61f7d61c55c1">FALSE</a>)
<a name="l00994"></a>00994 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="5688ef00fa72183deb7573657a391f4f"></a><!-- doxytag: member="CSocketThreadManager::SetCleanTimeout" ref="5688ef00fa72183deb7573657a391f4f" args="(DWORD dwTimeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CSocketThreadManager::SetCleanTimeout           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#d342ac907eb044443153a22f964bf0af">DWORD</a>&nbsp;</td>
          <td class="paramname"> <em>dwTimeout</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l01026">1026</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l01027"></a>01027 {
<a name="l01028"></a>01028     m_dwCleanTimeout=dwTimeout;
<a name="l01029"></a>01029 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c32f57ac983a6b4a80d5560ec63905e9"></a><!-- doxytag: member="CSocketThreadManager::SetLocalLog" ref="c32f57ac983a6b4a80d5560ec63905e9" args="(CErrorLog *pLog, bool bWriteToMain=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::SetLocalLog           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCErrorHandler_1_1CErrorLog.html">CErrorLog</a> *&nbsp;</td>
          <td class="paramname"> <em>pLog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>bWriteToMain</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00543">543</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00545"></a>00545 {
<a name="l00546"></a>00546     <span class="comment">//Save the log</span>
<a name="l00547"></a>00547     m_pLocalLog=pLog;
<a name="l00548"></a>00548 
<a name="l00549"></a>00549     <span class="comment">//Save the write to main flag</span>
<a name="l00550"></a>00550     m_bWriteToMain=bWriteToMain;
<a name="l00551"></a>00551 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="4b7ea48ef8dfffa2153b0d499693084e"></a><!-- doxytag: member="CSocketThreadManager::SetLog" ref="4b7ea48ef8dfffa2153b0d499693084e" args="(CErrorLog *pLog)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::SetLog           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCErrorHandler_1_1CErrorLog.html">CErrorLog</a> *&nbsp;</td>
          <td class="paramname"> <em>pLog</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00509">509</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00510"></a>00510 {
<a name="l00511"></a>00511     <span class="comment">//Save the new log</span>
<a name="l00512"></a>00512     m_pLog=pLog;
<a name="l00513"></a>00513 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="154d228acd338d59a1ae317197eb1620"></a><!-- doxytag: member="CSocketThreadManager::SetName" ref="154d228acd338d59a1ae317197eb1620" args="(const std::string &amp;rName) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::SetName           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00139">139</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00140"></a>00140 {
<a name="l00141"></a>00141     <span class="comment">//Save the class name</span>
<a name="l00142"></a>00142     m_sClassName=rName;
<a name="l00143"></a>00143 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="c0fc5392f73092d44cf2f1ed6b3bcbc3"></a><!-- doxytag: member="CSocketThreadManager::Uninitialize" ref="c0fc5392f73092d44cf2f1ed6b3bcbc3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#050c65e107f0c828f856a231f4b4e788">BOOL</a> CSocketThreadManager::Uninitialize           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html#l00157">157</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00158"></a>00158 {
<a name="l00159"></a>00159     <span class="keywordflow">try</span>
<a name="l00160"></a>00160     {
<a name="l00161"></a>00161         <span class="comment">//Are we initialized?</span>
<a name="l00162"></a>00162         <span class="keywordflow">if</span> (!m_bInitialized)
<a name="l00163"></a>00163             <span class="keywordflow">return</span> <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#a8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00164"></a>00164 
<a name="l00165"></a>00165         <span class="comment">//Are we a static class</span>
<a name="l00166"></a>00166         <span class="keywordflow">if</span> (m_bStaticClass)
<a name="l00167"></a>00167             <span class="comment">//Deallocate the class</span>
<a name="l00168"></a>00168             UnregisterClass();
<a name="l00169"></a>00169         <span class="keywordflow">else</span>
<a name="l00170"></a>00170             <span class="comment">//Delete the thread data</span>
<a name="l00171"></a>00171             CleanThreads(<a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#a93f0eb578d23995850d61f7d61c55c1">FALSE</a>);
<a name="l00172"></a>00172 
<a name="l00173"></a>00173         <span class="comment">//Unitialized</span>
<a name="l00174"></a>00174         m_bInitialized=<a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#a93f0eb578d23995850d61f7d61c55c1">FALSE</a>;
<a name="l00175"></a>00175 
<a name="l00176"></a>00176         <span class="comment">//Done</span>
<a name="l00177"></a>00177         <span class="keywordflow">return</span> <a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#a8cecfc5c5c054d2875c03e77b7be15d">TRUE</a>;
<a name="l00178"></a>00178     }
<a name="l00179"></a>00179     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#de1532de61862588013aae2100d1cbc7">ERROR_HANDLER_RETURN</a>(<span class="stringliteral">"Uninitialize"</span>,<a class="code" href="http://www.komodia.com/NewDoc/V51/UnixTypes_8h.html#a93f0eb578d23995850d61f7d61c55c1">FALSE</a>)
<a name="l00180"></a>00180 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="083cbdc66a1c603b10ea7ee48dcda9d1"></a><!-- doxytag: member="CSocketThreadManager::WriteError" ref="083cbdc66a1c603b10ea7ee48dcda9d1" args="(const std::string &amp;rClass, const std::string &amp;rMethod, const std::string &amp;rError) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::WriteError           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rClass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMethod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rError</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00168">168</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00171"></a>00171 {
<a name="l00172"></a>00172     <span class="comment">//Do we have a log?</span>
<a name="l00173"></a>00173     <span class="keywordflow">if</span> (!GetLog())
<a name="l00174"></a>00174         <span class="keywordflow">return</span>;
<a name="l00175"></a>00175 
<a name="l00176"></a>00176     <span class="comment">//Format the msg</span>
<a name="l00177"></a>00177     std::string sError;
<a name="l00178"></a>00178     sError=<a class="code" href="classCErrorHandler.html#05f7ed38a1a8994e169fd4f8ac3755f7">FormatData</a>(rClass,
<a name="l00179"></a>00179                       rMethod,
<a name="l00180"></a>00180                       rError);
<a name="l00181"></a>00181 
<a name="l00182"></a>00182     <span class="comment">//Write it</span>
<a name="l00183"></a>00183     GetLog()-&gt;<a class="code" href="classCErrorHandler_1_1CErrorLog.html#885ec3d8d1597cbb1444673146027e10">WriteError</a>(sError);
<a name="l00184"></a>00184 
<a name="l00185"></a>00185     <span class="comment">//Write to main</span>
<a name="l00186"></a>00186     <span class="keywordflow">if</span> (m_bWriteToMain &amp;&amp;
<a name="l00187"></a>00187         m_pLog)
<a name="l00188"></a>00188         <span class="comment">//Write it</span>
<a name="l00189"></a>00189         m_pLog-&gt;<a class="code" href="classCErrorHandler_1_1CErrorLog.html#885ec3d8d1597cbb1444673146027e10">WriteError</a>(sError);
<a name="l00190"></a>00190 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="47a810882291e2ef45a74b36a11f3009"></a><!-- doxytag: member="CSocketThreadManager::WriteMessage" ref="47a810882291e2ef45a74b36a11f3009" args="(const std::string &amp;rMethod, const std::string &amp;rMessage) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::WriteMessage           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMethod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMessage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [protected, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00360">360</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00362"></a>00362 {
<a name="l00363"></a>00363     <span class="keywordflow">if</span> (!GetLog())
<a name="l00364"></a>00364         <span class="keywordflow">return</span>;
<a name="l00365"></a>00365 
<a name="l00366"></a>00366     <span class="keywordflow">try</span>
<a name="l00367"></a>00367     {
<a name="l00368"></a>00368         <span class="comment">//Report to the log</span>
<a name="l00369"></a>00369         <a class="code" href="classCErrorHandler.html#91f1ca7631f0aeb6bba90e9b4ed381ea">WriteMessage</a>(m_sClassName,
<a name="l00370"></a>00370                      rMethod,
<a name="l00371"></a>00371                      rMessage);
<a name="l00372"></a>00372     }
<a name="l00373"></a>00373     <a class="code" href="http://www.komodia.com/NewDoc/V51/ErrorHandlerMacros_8h.html#aa5707bed26a843d0b2046b2e21b8c89">ERROR_UNKNOWN</a>(<span class="stringliteral">"WriteMessage"</span>)
<a name="l00374"></a>00374 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="91f1ca7631f0aeb6bba90e9b4ed381ea"></a><!-- doxytag: member="CSocketThreadManager::WriteMessage" ref="91f1ca7631f0aeb6bba90e9b4ed381ea" args="(const std::string &amp;rClass, const std::string &amp;rMethod, const std::string &amp;rMessage) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::WriteMessage           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rClass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMethod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMessage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00226">226</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00229"></a>00229 {
<a name="l00230"></a>00230     <span class="comment">//Do we have a log?</span>
<a name="l00231"></a>00231     <span class="keywordflow">if</span> (!GetLog())
<a name="l00232"></a>00232         <span class="keywordflow">return</span>;
<a name="l00233"></a>00233 
<a name="l00234"></a>00234     <span class="comment">//Format the msg</span>
<a name="l00235"></a>00235     std::string sMsg;
<a name="l00236"></a>00236     sMsg=<a class="code" href="classCErrorHandler.html#05f7ed38a1a8994e169fd4f8ac3755f7">FormatData</a>(rClass,
<a name="l00237"></a>00237                     rMethod,
<a name="l00238"></a>00238                     rMessage,
<a name="l00239"></a>00239                     <span class="keyword">false</span>);
<a name="l00240"></a>00240 
<a name="l00241"></a>00241     <span class="comment">//Write it</span>
<a name="l00242"></a>00242     GetLog()-&gt;<a class="code" href="classCErrorHandler_1_1CErrorLog.html#f3974ec0b7e7f2c6987adf5422a653f4">WriteMessage</a>(sMsg);
<a name="l00243"></a>00243 
<a name="l00244"></a>00244     <span class="comment">//Write to main</span>
<a name="l00245"></a>00245     <span class="keywordflow">if</span> (m_bWriteToMain &amp;&amp;
<a name="l00246"></a>00246         m_pLog)
<a name="l00247"></a>00247         <span class="comment">//Write it</span>
<a name="l00248"></a>00248         m_pLog-&gt;<a class="code" href="classCErrorHandler_1_1CErrorLog.html#f3974ec0b7e7f2c6987adf5422a653f4">WriteMessage</a>(sMsg);
<a name="l00249"></a>00249 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="a0668543d695d4dae530a10e481849d9"></a><!-- doxytag: member="CSocketThreadManager::WriteStaticError" ref="a0668543d695d4dae530a10e481849d9" args="(const std::string &amp;rClass, const std::string &amp;rMethod, const std::string &amp;rError)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::WriteStaticError           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rClass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMethod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rError</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00192">192</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00195"></a>00195 {
<a name="l00196"></a>00196     <span class="comment">//Do we have a log?</span>
<a name="l00197"></a>00197     <span class="keywordflow">if</span> (!m_pLog)
<a name="l00198"></a>00198         <span class="keywordflow">return</span>;
<a name="l00199"></a>00199 
<a name="l00200"></a>00200     <span class="comment">//Format the msg</span>
<a name="l00201"></a>00201     std::string sError;
<a name="l00202"></a>00202     sError=<a class="code" href="classCErrorHandler.html#05f7ed38a1a8994e169fd4f8ac3755f7">FormatData</a>(rClass,
<a name="l00203"></a>00203                       rMethod,
<a name="l00204"></a>00204                       rError);
<a name="l00205"></a>00205 
<a name="l00206"></a>00206     <span class="comment">//Write it</span>
<a name="l00207"></a>00207     m_pLog-&gt;<a class="code" href="classCErrorHandler_1_1CErrorLog.html#885ec3d8d1597cbb1444673146027e10">WriteError</a>(sError);
<a name="l00208"></a>00208 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="44f3a731ec98f4c3aaf001a248a4b4f3"></a><!-- doxytag: member="CSocketThreadManager::WriteStaticMessage" ref="44f3a731ec98f4c3aaf001a248a4b4f3" args="(const std::string &amp;rClass, const std::string &amp;rMethod, const std::string &amp;rMessage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CErrorHandler::WriteStaticMessage           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rClass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMethod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>rMessage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html#l00210">210</a> of file <a class="el" href="http://www.komodia.com/NewDoc/V51/ErrorHandler_8cpp-source.html">ErrorHandler.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00213"></a>00213 {
<a name="l00214"></a>00214     <span class="comment">//Do we have a log?</span>
<a name="l00215"></a>00215     <span class="keywordflow">if</span> (!m_pLog)
<a name="l00216"></a>00216         <span class="keywordflow">return</span>;
<a name="l00217"></a>00217 
<a name="l00218"></a>00218     <span class="comment">//Format the msg</span>
<a name="l00219"></a>00219     std::string sMsg;
<a name="l00220"></a>00220     sMsg=<a class="code" href="classCErrorHandler.html#05f7ed38a1a8994e169fd4f8ac3755f7">FormatData</a>(rClass,
<a name="l00221"></a>00221                     rMethod,
<a name="l00222"></a>00222                     rMessage,
<a name="l00223"></a>00223                     <span class="keyword">false</span>);
<a name="l00224"></a>00224 }
</pre></div>
<p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8h-source.html">SocketThreadManager.h</a><li><a class="el" href="http://www.komodia.com/NewDoc/V51/SocketThreadManager_8cpp-source.html">SocketThreadManager.cpp</a></ul>
</div>
</td>
</table>
<p><br><br></p>
<div class="footer width h">
	<div id="clearfix" class="copy">Copyright  2009 Komodia Inc. All rights reserved</div>
    <div class="foot_menu copy" id="clearfix"><a href="../../index.php.html" rel="nofollow">Home</a> | <a href="../../index.php@page=portfolio.html" rel="nofollow">Portfolio</a> | <a href="../../index.php@page=newservices.html" rel="nofollow">Services</a> | <a href="../../index.php@page=articles.html" rel="nofollow">Articles</a> | <a href="http://www.komodia.com/blog.htm" rel="nofollow" target="_new">Blog</a></div>
</div>
</body>
</html>
